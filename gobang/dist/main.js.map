{"version":3,"sources":["webpack:///webpack/bootstrap 20469fdb6b59a54375ce","webpack:///./src/js/view/dom-view/widget.js","webpack:///./src/js/game/actor.js","webpack:///./src/js/game/stage.js","webpack:///./src/js/view/dom-view/page.js","webpack:///./src/js/global-data.js","webpack:///./src/js/game/game.js","webpack:///./src/js/view/dom-view/view.js","webpack:///./src/css/style.scss","webpack:///./~/css-loader/lib/css-base.js","webpack:///./src/images/avatar-1-1.jpg","webpack:///./src/images/avatar-1-2.jpg","webpack:///./src/images/avatar-1-3.jpg","webpack:///./src/images/avatar-2-1.jpg","webpack:///./src/images/avatar-2-2.jpg","webpack:///./src/images/avatar-2-3.jpg","webpack:///./src/images/bg.jpg","webpack:///./src/images/black-hover.png","webpack:///./src/images/black-piece.png","webpack:///./src/images/qipan.png","webpack:///./src/images/white-hover.png","webpack:///./src/images/white-piece.png","webpack:///./~/style-loader/addStyles.js","webpack:///./src/css/style.scss?9c21","webpack:///./src/js/common.js","webpack:///./src/js/game/avatar/avatar-stage.js","webpack:///./src/js/game/avatar/avatarselector-actor.js","webpack:///./src/js/game/gate/gate-stage.js","webpack:///./src/js/game/gate/setting-actor.js","webpack:///./src/js/game/play/chessboard-actor.js","webpack:///./src/js/game/play/controler-actor.js","webpack:///./src/js/game/play/play-stage.js","webpack:///./src/js/game/play/player-actor.js","webpack:///./src/js/game/play/timekeeper-actor.js","webpack:///./src/js/main.js","webpack:///./src/js/view/base-view/page.js","webpack:///./src/js/view/base-view/view.js","webpack:///./src/js/view/base-view/widget.js","webpack:///./src/js/view/dom-view/avatar/avatar-page.js","webpack:///./src/js/view/dom-view/avatar/avatarselector-widget.js","webpack:///./src/js/view/dom-view/gate/gate-page.js","webpack:///./src/js/view/dom-view/gate/setting-widget.js","webpack:///./src/js/view/dom-view/play/chessboard-widget.js","webpack:///./src/js/view/dom-view/play/controler-widget.js","webpack:///./src/js/view/dom-view/play/play-page.js","webpack:///./src/js/view/dom-view/play/player-widget.js","webpack:///./src/js/view/dom-view/play/robot-widget.js","webpack:///./src/js/view/dom-view/play/timekeeper-widget.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;AChEA;;AAEA;;AAEA,C;;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4B;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,C;;;;;;;;;;AC1FA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;;ACbA;AAAA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;AClBmB;AACnB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,uBAAuB;AACvB;;AAEA;AACA;AACA,gCAAgC,sBAAsB,EAAE;;AAExD;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA,+D;;;;;;;;;;;;;ACnDA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sBAAsB;AACtB;AACA,C;;;;;;;;ACrBA;AACA;;;AAGA;AACA,iSAAkS,cAAc,eAAe,EAAE,iGAAiG,mBAAmB,wBAAwB,uBAAuB,EAAE,sBAAsB,iBAAiB,EAAE,iBAAiB,qBAAqB,EAAE,WAAW,8BAA8B,sBAAsB,EAAE,8EAA8E,mBAAmB,EAAE,qBAAqB,cAAc,eAAe,EAAE,gBAAgB,gBAAgB,iBAAiB,uBAAuB,EAAE,UAAU,2BAA2B,EAAE,YAAY,gBAAgB,EAAE,cAAc,gBAAgB,mBAAmB,cAAc,eAAe,cAAc,qBAAqB,mBAAmB,EAAE,gBAAgB,YAAY,EAAE,sBAAsB,iBAAiB,mBAAmB,cAAc,gBAAgB,uBAAuB,EAAE,SAAS,cAAc,EAAE,OAAO,0BAA0B,mBAAmB,EAAE,aAAa,oBAAoB,EAAE,OAAO,uBAAuB,EAAE,YAAY,qBAAqB,EAAE,UAAU,qCAAqC,mBAAmB,EAAE,uCAAuC,kBAAkB,mBAAmB,gBAAgB,gBAAgB,uBAAuB,EAAE,eAAe,aAAa,EAAE,SAAS,gBAAgB,EAAE,SAAS,iBAAiB,EAAE,UAAU,iBAAiB,EAAE,gBAAgB,gBAAgB,EAAE,iBAAiB,gBAAgB,EAAE,sBAAsB,gBAAgB,EAAE,gBAAgB,kBAAkB,kBAAkB,+DAAmE,0BAA0B,EAAE,UAAU,gCAAgC,iCAAiC,0BAA0B,EAAE,cAAc,oBAAoB,EAAE,WAAW,8BAA8B,EAAE,WAAW,kBAAkB,EAAE,gBAAgB,mBAAmB,EAAE,cAAc,kBAAkB,eAAe,EAAE,sBAAsB,mBAAmB,oBAAoB,EAAE,iCAAiC,2CAA2C,EAAE,0BAA0B,4DAAyE,EAAE,0BAA0B,6DAAyE,EAAE,0BAA0B,6DAAyE,EAAE,0BAA0B,6DAAyE,EAAE,0BAA0B,6DAAyE,EAAE,0BAA0B,6DAAyE,EAAE,cAAc,kBAAkB,kCAAkC,iBAAiB,kBAAkB,EAAE,sBAAsB,mBAAmB,mBAAmB,wBAAwB,yBAAyB,8BAA8B,EAAE,iCAAiC,2CAA2C,EAAE,oBAAoB,kBAAkB,EAAE,uBAAuB,uBAAuB,cAAc,YAAY,kCAAkC,kBAAkB,oBAAoB,iBAAiB,kBAAkB,sEAA6E,0BAA0B,EAAE,+BAA+B,kBAAkB,mBAAmB,EAAE,8DAA8D,qCAAqC,oCAAoC,8BAA8B,wBAAwB,EAAE,mCAAmC,uBAAuB,oBAAoB,qBAAqB,EAAE,yCAAyC,+DAA4E,EAAE,yCAAyC,+DAA4E,EAAE,mDAAmD,6DAA0E,EAAE,mDAAmD,6DAA0E,EAAE,gGAAgG,uBAAuB,EAAE,+BAA+B,oBAAoB,EAAE;;AAEnkJ;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,iBAAiB;AACjC;AACA;AACA,wCAAwC,gBAAgB;AACxD,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA,YAAY,oBAAoB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACjDA,qE;;;;;;ACAA,qE;;;;;;ACAA,qE;;;;;;ACAA,qE;;;;;;ACAA,qE;;;;;;ACAA,qE;;;;;;ACAA,6D;;;;;;ACAA,sE;;;;;;ACAA,sE;;;;;;ACAA,gE;;;;;;ACAA,sE;;;;;;ACAA,sE;;;;;;ACAA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gBAAgB,mBAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,sBAAsB;AACtC;AACA;AACA,kBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA,iBAAiB,2BAA2B;AAC5C;AACA;AACA,QAAQ,uBAAuB;AAC/B;AACA;AACA,GAAG;AACH;AACA,iBAAiB,uBAAuB;AACxC;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA,gCAAgC,sBAAsB;AACtD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD;AACvD;;AAEA,6BAA6B,mBAAmB;;AAEhD;;AAEA;;AAEA;AACA;AACA;;;;;;;ACrPA;;AAEA;AACA;AACA;AACA;AACA,gDAAiF;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,gCAAgC,UAAU,EAAE;AAC5C,C;;;;;;;ACpBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,yCAAyC,QAAQ;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AAAA;AAAA;;;;;;;;;;;AC7BmB;AACnB;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,C;;;;;;;;;;ACvCA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;ACrBA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,C;;;;;;;;;;AC/BA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,C;;;;;;;;;;ACzBA;;;AAGA;AACA;AACA;AACA,6BAA6B;AAC7B,2BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA,aAAa;;AAEb;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;;AChFA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,C;;;;;;;;;;;;;;;;;AChBmB;AACnB;AACA;AACA;AACA;AACA;AACA;;;;AAIA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,0BAA0B;AAC1B;;AAEA,6BAA6B;AAC7B,4BAA4B;AAC5B;AACA,0BAA0B;;AAE1B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;;AAEb;AACA;;AAEA,aAAa;;AAEb;AACA;;AAEA,aAAa;;AAEb;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA,+BAA+B,YAAY;AAC3C;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;;AAEA;AACA,0CAA0C;AAC1C;;AAEA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;;AAKA,C;;;;;;;;;;AC1JA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wCAAwC,wCAAwC;AAChF;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,C;;;;;;;;;;;;;;;;ACrCA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,kBAAkB,kBAAkB,KAAK,cAAc;AACvD;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA,C;;;;;;;;;;;;ACvFA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,a;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,C;;;;;;;;;ACzCA;AACA;AACA;AACA;AACA,YAAY;AACZ,C;;;;;;;;;;ACLqB;;AAErB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,C;;;;;;;;;;;ACzBA;AACA;;AAEA;;AAEA;AACA,gBAAgB;AAChB;;AAEA,C;;;;;;;;;;ACTA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,kD;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;;AAET;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;;AAET;;AAEA,C;;;;;;;;;;;ACvCA;AACA;;AAEA;AACA;AACA,gBAAgB;AAChB,K;AACA,C;;;;;;;;;;ACPA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,gD;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;;AAET;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;;AAET;;;AAGA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AAAA;AAAA;;;;;;;;;ACrCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qCAAqC;AACrC,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA,iCAAiC,kBAAkB,GAAG,sBAAsB;AAC5E,SAAS;AACT;;;AAGA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,0CAA0C,yBAAyB;AACnE,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,C;;;;;;;;;;AC9DA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,C;;;;;;;;;;;;;;;AClDA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,K;AACA,C;;;;;;;;;;ACjBA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,mDAAmD,WAAW;AAC9D;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,C;;;;;;;;;;ACtBA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA,C;;;;;;;;;;ACVA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,C","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 34);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 20469fdb6b59a54375ce","import BaseWidget from '../base-view/widget.js'\r\n\r\nexport default class Widget extends BaseWidget {\r\n\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/view/dom-view/widget.js\n// module id = 0\n// module chunks = 0","export default class Actor {\r\n    constructor(stage, widget) {\r\n        this.stage = stage;\r\n        this.widget = widget;\r\n        this.widgetData;\r\n        this.resetData;\r\n        this.stageDispatchHandlers = this.handleStageDispatch();\r\n        this.widgetEventHandlers = this.handleWidgetEvent();\r\n    }\r\n\r\n    init() {\r\n        this.widget.init();\r\n        for (let eventName in this.widgetEventHandlers) {\r\n            this.widget.addEventListener(eventName, this.widgetEventHandlers[eventName]);\r\n        }\r\n    }\r\n\r\n    handleStageDispatch() {\r\n        // 重写此方法，返回包含多个消息处理函数的对象，用于处理 stage 对 actor 发出的消息\r\n        return {};\r\n    }\r\n\r\n\r\n    handleWidgetEvent() {\r\n        // 处理 widget 交互事件\r\n        return {}\r\n    }\r\n\r\n    // 向 stage 发送消息\r\n    broadcast(msg, data) {\r\n        this.stage.actorBroadcastHandlers[msg] && this.stage.actorBroadcastHandlers[msg](data);\r\n    }\r\n\r\n    makeWidgetData(actorResetData) {\r\n        // 重置 actor 时，需要重置它所使用的 widget, 这里返回的对象，就是用来记录一些 widget 初始状态的数据\r\n        return actorResetData;\r\n    }\r\n\r\n    reset(actorResetData) {\r\n        this.resetData = actorResetData;\r\n        // 重置，在 stage 离开时，需要重置持久(生命周期与stage想同)的 actor\r\n        this.widget.setData(this.makeWidgetData(actorResetData));\r\n    }\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/game/actor.js\n// module id = 1\n// module chunks = 0","export default class Stage {\r\n    constructor(game, view) {\r\n        this.game = game;\r\n        this.view = view;\r\n        this.isInit = false;\r\n        this.active = false;\r\n        this.activateData;\r\n\r\n        this.actors = [];\r\n        this.actorBroadcastHandlers = this.handleActorBroadcast();\r\n        this.actorFactory;\r\n    }\r\n\r\n    init() {\r\n\r\n        let ActorConstructors = this.createActorConstructors();\r\n        this.actorFactory = {\r\n            constructors: ActorConstructors,\r\n            getActor: (name)=>{\r\n                // console.log(name);\r\n                return ( new ActorConstructors[name](this, this.view.createWidget(name)) );\r\n            }\r\n        }\r\n    }\r\n\r\n    createActorConstructors() {\r\n        // 重写此方法，返回包含本 stage 要用到的所有 Actor 构造函数，用于按需创建 actor\r\n    }\r\n\r\n    createActor(name, ...initArgs) {\r\n        // 创建舞台演员\r\n        let actor = this.actorFactory.getActor(name);\r\n\r\n        actor.name = name;\r\n        actor.id = 'actor_' + (new Date).getTime() + (Math.random() * 1000000)|0;\r\n        this.actors.push(actor);\r\n        actor.init(...initArgs);\r\n\r\n        return actor;\r\n    }\r\n\r\n\r\n    handleActorBroadcast() {\r\n        // 重写此方法，返回包含多个消息处理函数的对象，用于处理 actor 对 stage 发出的消息\r\n        return {};\r\n    }\r\n\r\n    // 向当前 stage 所有的 actor 发送消息\r\n    dispatch(msg, data) {\r\n        this.actors.forEach(\r\n            a=>a.stageDispatchHandlers[msg] && a.stageDispatchHandlers[msg](data)\r\n        );\r\n    }\r\n\r\n    getActorResetDatas(activateData) {\r\n        return {};\r\n    }\r\n\r\n    _activate(data) {\r\n        this.active = true;\r\n        // 首次激活需要初始化\r\n        if (!this.isInit) {\r\n            this.isInit = true;\r\n            this.view.init();\r\n            this.init();\r\n            // return false; \r\n        }\r\n        this.activateData = data;\r\n\r\n        let actorResetDatas = this.getActorResetDatas(this.activateData);\r\n\r\n        this.actors.forEach(w=>w.reset(actorResetDatas[w.name]));\r\n        this.activate(data);\r\n        this.view && this.view.show();\r\n    }\r\n\r\n    activate() {\r\n        // 重写此方法，激活之后的操作，在视图显示之前\r\n    }\r\n\r\n    _inactivate() {\r\n        this.active = false;\r\n        this.view && this.view.hide();\r\n\r\n        this.inactivate();\r\n    }\r\n\r\n    inactivate() {\r\n        // 重写此方法，离开之后的操作，在视图消失之后\r\n    }\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/game/stage.js\n// module id = 2\n// module chunks = 0","import BasePage from '../base-view/page.js'\r\n\r\nexport default class Page extends BasePage {\r\n    constructor(elem) {\r\n        super();\r\n        this.elem = elem;\r\n    }\r\n    show() {\r\n        this.elem.classList.add(\"show\");\r\n    }\r\n    hide() {\r\n        this.elem.classList.remove(\"show\");\r\n    }\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/view/dom-view/page.js\n// module id = 3\n// module chunks = 0","var globalData;\r\nvar initData = {\r\n    player1: {\r\n        avatar: null,\r\n    },\r\n    player2: {\r\n        avatar: null,\r\n    }\r\n};\r\n\r\nif (window.localStorage.gobang) {\r\n    globalData = window.localStorage.gobang;\r\n} else {\r\n    clearGlobalData();\r\n}\r\n\r\nfunction clearGlobalData() {\r\n    globalData = JSON.parse(JSON.stringify(initData));\r\n}\r\n\r\nexport {globalData, clearGlobalData};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/global-data.js\n// module id = 4\n// module chunks = 0","import {globalData} from 'Src/js/global-data.js';\r\nimport AvatarStage from './avatar/avatar-stage.js';\r\nimport GateStage from './gate/gate-stage.js';\r\nimport PlayStage from './play/play-stage.js';\r\n\r\nclass Game {\r\n    constructor(view) {\r\n        \r\n        this.stages = {};\r\n        this.currentStage = null;\r\n\r\n        this.view = view;\r\n    }\r\n\r\n    init() {\r\n        let avatar = new AvatarStage(this, this.view.pages.avatar);\r\n        let gate = new GateStage(this, this.view.pages.gate);\r\n        let play = new PlayStage(this, this.view.pages.play);\r\n\r\n        this.view.init();\r\n        this.stages = {avatar, gate, play};\r\n    }\r\n\r\n    start() {\r\n        /* test*/\r\n        this.goToStage('play', {time: 5, mode: 'duet'}); return;\r\n\r\n        // console.log(globalData);\r\n        if (!!globalData.player1.avatar) {\r\n            // 首次游戏，设置头像\r\n            this.goToStage('avatar');\r\n        } else {\r\n            this.goToStage('gate');\r\n        }\r\n    }\r\n\r\n    exit() {\r\n\r\n    }\r\n\r\n    goToStage(name, data) {\r\n        if (this.currentStage) {\r\n            this.currentStage._inactivate();\r\n        }\r\n        \r\n        this.currentStage = this.stages[name];\r\n        this.currentStage._activate(data);\r\n    }\r\n}\r\n\r\n\r\nexport default Game;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/game/game.js\n// module id = 5\n// module chunks = 0","import BaseView from '../base-view/view.js';\r\nimport AvatarPage from './avatar/avatar-page.js';\r\nimport GatePage from './gate/gate-page.js';\r\nimport PlayPage from './play/play-page.js';\r\nimport 'Src/css/style.scss';\r\n\r\nexport default class View extends BaseView {\r\n    constructor() {\r\n        super();\r\n        this.pages = {};\r\n    }\r\n    init() {\r\n        let avatarElem = document.querySelector('#avatar');\r\n        let gateElem = document.querySelector('#gate');\r\n        let playElem = document.querySelector('#play');\r\n        let avatar = new AvatarPage(avatarElem);\r\n        let gate = new GatePage(gateElem);\r\n        let play = new PlayPage(playElem);\r\n\r\n        this.pages = {avatar, gate, play};\r\n    }\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/view/dom-view/view.js\n// module id = 6\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/* RESET*/\\nhtml, body, div, ul, ol, li, dl, dt, dd, h1, h2, h3, h4, h5, h6, pre, form, p, blockquote, fieldset, input, abbr, article, aside, command, details, figcaption, figure, footer, header, hgroup, mark, meter, nav, output, progress, section, summary, time {\\n  margin: 0;\\n  padding: 0; }\\n\\nh1, h2, h3, h4, h5, h6, pre, code, address, caption, cite, code, em, strong, th, figcaption {\\n  font-size: 1em;\\n  font-weight: normal;\\n  font-style: normal; }\\n\\nfieldset, iframe {\\n  border: none; }\\n\\ncaption, th {\\n  text-align: left; }\\n\\ntable {\\n  border-collapse: collapse;\\n  border-spacing: 0; }\\n\\narticle, aside, footer, header, hgroup, nav, section, figure, figcaption {\\n  display: block; }\\n\\n/* LAYOUT */\\n* {\\n  margin: 0;\\n  padding: 0; }\\n\\nhtml, body {\\n  width: 100%;\\n  height: 100%;\\n  position: relative; }\\n\\nhtml {\\n  background-color: #fff; }\\n\\n.clear {\\n  clear: both; }\\n\\n.clearer {\\n  clear: both;\\n  display: block;\\n  margin: 0;\\n  padding: 0;\\n  height: 0;\\n  line-height: 1px;\\n  font-size: 1px; }\\n\\n.selfclear {\\n  zoom: 1; }\\n\\n.selfclear:after {\\n  content: '.';\\n  display: block;\\n  height: 0;\\n  clear: both;\\n  visibility: hidden; }\\n\\nimg {\\n  border: 0; }\\n\\na {\\n  text-decoration: none;\\n  color: #515151; }\\n  a:focus {\\n    outline: none; }\\n\\ni {\\n  font-style: normal; }\\n\\nul, li {\\n  list-style: none; }\\n\\nbody {\\n  font: 14px/1.5 'microsoft yahei';\\n  color: #515151; }\\n\\n.clearfix:after, .clearfix:before {\\n  content: \\\"\\\";\\n  display: table;\\n  height: 0px;\\n  clear: both;\\n  visibility: hidden; }\\n\\n.clearfix {\\n  *zoom: 1; }\\n\\n.fl {\\n  float: left; }\\n\\n.fr {\\n  float: right; }\\n\\n.br0 {\\n  border: none; }\\n\\n.key-color {\\n  color: #333; }\\n\\n.maim-color {\\n  color: #666; }\\n\\n.auxiliary-color {\\n  color: #999; }\\n\\n.container {\\n  width: 1368px;\\n  height: 768px;\\n  background: url(\" + require(\"../images/bg.jpg\") + \") no-repeat;\\n  background-size: 100%; }\\n\\n.pic {\\n  background-position: center;\\n  background-repeat: no-repeat;\\n  background-size: 100%; }\\n\\n.pointer {\\n  cursor: pointer; }\\n\\n.show {\\n  display: block !important; }\\n\\n.page {\\n  display: none; }\\n\\n.page.show {\\n  display: block; }\\n\\n.avatars {\\n  display: flex;\\n  width: 50%; }\\n  .avatars .avatar {\\n    width: 100px;\\n    height: 100px; }\\n    .avatars .avatar.selected {\\n      box-shadow: inset 2px 2px 2px #666; }\\n  .avatars .avatar-1-1 {\\n    background-image: url(\" + require(\"../images/avatar-1-1.jpg\") + \"); }\\n  .avatars .avatar-1-2 {\\n    background-image: url(\" + require(\"../images/avatar-1-2.jpg\") + \"); }\\n  .avatars .avatar-1-3 {\\n    background-image: url(\" + require(\"../images/avatar-1-3.jpg\") + \"); }\\n  .avatars .avatar-2-1 {\\n    background-image: url(\" + require(\"../images/avatar-2-1.jpg\") + \"); }\\n  .avatars .avatar-2-2 {\\n    background-image: url(\" + require(\"../images/avatar-2-2.jpg\") + \"); }\\n  .avatars .avatar-2-3 {\\n    background-image: url(\" + require(\"../images/avatar-2-3.jpg\") + \"); }\\n\\n.options {\\n  display: flex;\\n  justify-content: space-around;\\n  width: 400px;\\n  height: 100px; }\\n  .options .option {\\n    width: 100px;\\n    height: 50px;\\n    line-height: 50px;\\n    text-align: center;\\n    outline: 1px solid #666; }\\n    .options .option.selected {\\n      box-shadow: inset 2px 2px 2px #666; }\\n\\n#play .confirm {\\n  display: none; }\\n\\n#play .chessboard {\\n  position: absolute;\\n  left: 50%;\\n  top: 3%;\\n  transform: translate(-50%, 0);\\n  display: flex;\\n  flex-wrap: wrap;\\n  width: 600px;\\n  padding: 40px;\\n  background: url(\" + require(\"../images/qipan.png\") + \") center no-repeat;\\n  background-size: 100%; }\\n  #play .chessboard .square {\\n    width: 40px;\\n    height: 40px; }\\n    #play .chessboard .square, #play .chessboard .square i {\\n      background-repeat: no-repeat;\\n      background-position: center;\\n      background-size: 100%;\\n      cursor: pointer; }\\n    #play .chessboard .square i {\\n      display: block;\\n      width: 100%;\\n      height: 100%; }\\n    #play .chessboard .square.black i {\\n      background-image: url(\" + require(\"../images/black-piece.png\") + \"); }\\n    #play .chessboard .square.white i {\\n      background-image: url(\" + require(\"../images/white-piece.png\") + \"); }\\n  #play .chessboard.playing-black .square:hover {\\n    background-image: url(\" + require(\"../images/black-hover.png\") + \"); }\\n  #play .chessboard.playing-white .square:hover {\\n    background-image: url(\" + require(\"../images/white-hover.png\") + \"); }\\n  #play .chessboard.playing-black .white:hover, #play .chessboard.playing-black .black:hover {\\n    background: none; }\\n\\n#play .player .player-btn {\\n  cursor: pointer; }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/sass-loader!./src/css/style.scss\n// module id = 7\n// module chunks = 0","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader/lib/css-base.js\n// module id = 8\n// module chunks = 0","module.exports = __webpack_public_path__ + \"src/images/avatar-1-1.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/avatar-1-1.jpg\n// module id = 9\n// module chunks = 0","module.exports = __webpack_public_path__ + \"src/images/avatar-1-2.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/avatar-1-2.jpg\n// module id = 10\n// module chunks = 0","module.exports = __webpack_public_path__ + \"src/images/avatar-1-3.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/avatar-1-3.jpg\n// module id = 11\n// module chunks = 0","module.exports = __webpack_public_path__ + \"src/images/avatar-2-1.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/avatar-2-1.jpg\n// module id = 12\n// module chunks = 0","module.exports = __webpack_public_path__ + \"src/images/avatar-2-2.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/avatar-2-2.jpg\n// module id = 13\n// module chunks = 0","module.exports = __webpack_public_path__ + \"src/images/avatar-2-3.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/avatar-2-3.jpg\n// module id = 14\n// module chunks = 0","module.exports = __webpack_public_path__ + \"src/images/bg.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/bg.jpg\n// module id = 15\n// module chunks = 0","module.exports = __webpack_public_path__ + \"src/images/black-hover.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/black-hover.png\n// module id = 16\n// module chunks = 0","module.exports = __webpack_public_path__ + \"src/images/black-piece.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/black-piece.png\n// module id = 17\n// module chunks = 0","module.exports = __webpack_public_path__ + \"src/images/qipan.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/qipan.png\n// module id = 18\n// module chunks = 0","module.exports = __webpack_public_path__ + \"src/images/white-hover.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/white-hover.png\n// module id = 19\n// module chunks = 0","module.exports = __webpack_public_path__ + \"src/images/white-piece.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/white-piece.png\n// module id = 20\n// module chunks = 0","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\nvar stylesInDom = {},\n\tmemoize = function(fn) {\n\t\tvar memo;\n\t\treturn function () {\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\t\treturn memo;\n\t\t};\n\t},\n\tisOldIE = memoize(function() {\n\t\treturn /msie [6-9]\\b/.test(self.navigator.userAgent.toLowerCase());\n\t}),\n\tgetHeadElement = memoize(function () {\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\n\t}),\n\tsingletonElement = null,\n\tsingletonCounter = 0,\n\tstyleElementsInsertedAtTop = [];\n\nmodule.exports = function(list, options) {\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the bottom of <head>.\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list);\n\taddStylesToDom(styles, options);\n\n\treturn function update(newList) {\n\t\tvar mayRemove = [];\n\t\tfor(var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\n\t\t\t\t\tdomStyle.parts[j]();\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction addStylesToDom(styles, options) {\n\tfor(var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles(list) {\n\tvar styles = [];\n\tvar newStyles = {};\n\tfor(var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\t\tif(!newStyles[id])\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse\n\t\t\tnewStyles[id].parts.push(part);\n\t}\n\treturn styles;\n}\n\nfunction insertStyleElement(options, styleElement) {\n\tvar head = getHeadElement();\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\n\tif (options.insertAt === \"top\") {\n\t\tif(!lastStyleElementInsertedAtTop) {\n\t\t\thead.insertBefore(styleElement, head.firstChild);\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\thead.appendChild(styleElement);\n\t\t}\n\t\tstyleElementsInsertedAtTop.push(styleElement);\n\t} else if (options.insertAt === \"bottom\") {\n\t\thead.appendChild(styleElement);\n\t} else {\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\n\t}\n}\n\nfunction removeStyleElement(styleElement) {\n\tstyleElement.parentNode.removeChild(styleElement);\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\n\tif(idx >= 0) {\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement(options) {\n\tvar styleElement = document.createElement(\"style\");\n\tstyleElement.type = \"text/css\";\n\tinsertStyleElement(options, styleElement);\n\treturn styleElement;\n}\n\nfunction createLinkElement(options) {\n\tvar linkElement = document.createElement(\"link\");\n\tlinkElement.rel = \"stylesheet\";\n\tinsertStyleElement(options, linkElement);\n\treturn linkElement;\n}\n\nfunction addStyle(obj, options) {\n\tvar styleElement, update, remove;\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\n\t} else if(obj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\") {\n\t\tstyleElement = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t\tif(styleElement.href)\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\n\t\t};\n\t} else {\n\t\tstyleElement = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle(newObj) {\n\t\tif(newObj) {\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\n\t\t\t\treturn;\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = styleElement.childNodes;\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\n\t\tif (childNodes.length) {\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyleElement.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag(styleElement, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyleElement.setAttribute(\"media\", media)\n\t}\n\n\tif(styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = css;\n\t} else {\n\t\twhile(styleElement.firstChild) {\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\n\t\t}\n\t\tstyleElement.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink(linkElement, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\tif(sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = linkElement.href;\n\n\tlinkElement.href = URL.createObjectURL(blob);\n\n\tif(oldSrc)\n\t\tURL.revokeObjectURL(oldSrc);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/style-loader/addStyles.js\n// module id = 21\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/index.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/index.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/index.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/css/style.scss\n// module id = 22\n// module chunks = 0","export class EventEmitter {\r\n    constructor() {\r\n        this.listeners = {};\r\n    }\r\n\r\n    addEventListener(eventName, callback) {\r\n        this.listeners[eventName] = this.listeners[eventName] || [];\r\n        this.listeners[eventName].push(callback);\r\n    }\r\n\r\n    removeEventListener(eventName, callback) {\r\n        if (!this.listeners[eventName]) { return; }\r\n        if (!callback) {\r\n            delete this.listeners[eventName];\r\n            return;\r\n        }\r\n        this.listeners[eventName].forEach((fn, i)=>{\r\n            if (fn === callback) {\r\n                this.listeners[eventName].splice(i, 1);\r\n                return false;\r\n            }\r\n        });\r\n    }\r\n\r\n    trigger(eventName, data) {\r\n        this.listeners[eventName] && this.listeners[eventName].forEach(function(fn) {\r\n            fn(data);\r\n        });\r\n    }\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/common.js\n// module id = 23\n// module chunks = 0","import {globalData} from 'Src/js/global-data.js';\r\nimport Stage from '../stage.js';\r\nimport AvatarSelectorActor from './avatarselector-actor.js';\r\n\r\n\r\nexport default class AvatarStage extends Stage {\r\n\r\n    constructor(game, view) {\r\n        super(game, view);\r\n        this.name = 'avatar';\r\n        this.data;\r\n        this.avatarSelectorActor;\r\n    }\r\n\r\n    init() {\r\n        super.init();\r\n        this.avatarSelectorActor = this.createActor('AvatarSelector');\r\n    }\r\n\r\n\r\n    handleActorBroadcast() {\r\n        return {\r\n            selectAvatar: (selected)=>{\r\n                globalData.player1.avatar = selected.player1Avatar;\r\n                globalData.player2.avatar = selected.player2Avatar;\r\n                this.game.goToStage('gate');\r\n            }\r\n        }\r\n    }\r\n\r\n    createActorConstructors() {\r\n        return {\r\n            AvatarSelector: AvatarSelectorActor\r\n        }\r\n    }\r\n\r\n    inactivate() {\r\n        super.inactivate();\r\n    }\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/game/avatar/avatar-stage.js\n// module id = 24\n// module chunks = 0","import Actor from '../actor.js';\r\n\r\n\r\nexport default class AvatarSelectorActor extends Actor {\r\n    init() {\r\n        super.init();\r\n    }\r\n\r\n    handleWidgetEvent() {\r\n        // 处理 widget 交互事件\r\n        return {\r\n            'select-done': (selected)=>{\r\n                this.selectAvatar(selected);\r\n            }\r\n        }\r\n    }\r\n\r\n    selectAvatar(selected) {\r\n        console.log(selected);\r\n        this.broadcast('selectAvatar', selected);\r\n    }\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/game/avatar/avatarselector-actor.js\n// module id = 25\n// module chunks = 0","import Stage from '../stage.js';\r\nimport SettingActor from './setting-actor';\r\n\r\nexport default class PlayStage extends Stage {\r\n\r\n    constructor(game, view) {\r\n        super(game, view);\r\n        this.name = 'gate';\r\n        this.settingActor;\r\n    }\r\n\r\n    init() {\r\n        super.init();\r\n        this.settingActor = this.createActor('Setting');\r\n    }\r\n\r\n\r\n    handleActorBroadcast() {\r\n        return {\r\n            doSetting: (setting)=>{\r\n                this.game.goToStage('play', setting);\r\n            }\r\n        }\r\n    }\r\n\r\n    createActorConstructors() {\r\n        return {\r\n            Setting: SettingActor\r\n        }\r\n    }\r\n\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/game/gate/gate-stage.js\n// module id = 26\n// module chunks = 0","import Actor from '../actor.js';\r\n\r\n\r\nexport default class SettingActor extends Actor {\r\n    init() {\r\n        super.init();\r\n\r\n        this.widget.addEventListener('setting-done', (setting) => {\r\n            this.doSetting(setting);\r\n        });\r\n    }\r\n\r\n    handleWidgetEvent() {\r\n        // 处理 widget 交互事件\r\n        return {\r\n            'setting-done': (setting) => {\r\n                this.doSetting(setting);\r\n            }\r\n        }\r\n    }\r\n\r\n    doSetting(setting) {\r\n        this.broadcast('doSetting', setting);\r\n    }\r\n\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/game/gate/setting-actor.js\n// module id = 27\n// module chunks = 0","import PlayActor from '../actor.js';\r\n\r\n\r\nexport default class ChessboardActor extends PlayActor {\r\n    init() {\r\n        super.init(...arguments);\r\n        this.horizontal = 15; // 格子个数\r\n        this.vertical = 15; // 格子个数\r\n        this.pieceData = [];\r\n        this.widget.createSquares(this.horizontal, this.vertical);\r\n        this.playingActor;\r\n\r\n        this.lock = false;\r\n    }\r\n\r\n    handleWidgetEvent() {\r\n        // 处理 widget 交互事件\r\n        return {\r\n            'square-click': (crood)=>{\r\n                this.tellPlayActorPutPiece(crood);\r\n            }\r\n        }\r\n    }\r\n\r\n    handleStageDispatch() {\r\n        return {\r\n            setPlaying: (playingActor)=>{\r\n                this.playingActor = playingActor;\r\n                this.setWidgetPrevent();\r\n                this.widget.setActivePiece(this.playingActor.pieceType);\r\n            },\r\n\r\n            start: ()=>{\r\n                this.pieceData = (new Array(this.vertical)).fill(1).map((a)=>{\r\n                    return new Array(this.horizontal);\r\n                });\r\n\r\n                this.widget.clearChessboard();\r\n            },\r\n\r\n            lock: ()=>{\r\n                this.lock = true;\r\n                setWidgetPrevent()\r\n            },\r\n\r\n            unlock: ()=>{\r\n                this.lock = false;\r\n                this.setWidgetPrevent()\r\n            }\r\n        }\r\n    }\r\n\r\n    tellPlayActorPutPiece(crood) {\r\n        if (!this.playingActor.isRobot) {\r\n            this.playingActor.putPiece(crood);\r\n        }\r\n    }\r\n\r\n    setWidgetPrevent() {\r\n        if ((this.playingActor && this.playingActor.isRobot) || this.lock) {\r\n            this.widget.setPrevent(true);\r\n        } else {\r\n            this.widget.setPrevent(false);\r\n        }\r\n    }\r\n\r\n\r\n    // 放子\r\n    receivePiece(pieceType, crood) {\r\n        this.pieceData[crood.x][crood.y] = pieceType;\r\n        this.widget.setSquare(pieceType, crood);\r\n\r\n        // console.log(pieceType, crood, this.playingActor.pieceType);\r\n    }\r\n\r\n    // 删除某个子，悔棋调用\r\n    deletePiece(crood) {\r\n        this.pieceData[crood.x][crood.y] = undefined;\r\n        this.widget.setSquare('', crood);\r\n    }\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/game/play/chessboard-actor.js\n// module id = 28\n// module chunks = 0","import PlayActor from '../actor.js';\r\n\r\n\r\nexport default class ControlerActor extends PlayActor {\r\n    init() {\r\n        super.init();\r\n    }\r\n\r\n    showMsg(msg, dur=2000, callback) {\r\n        this.widget.showMsg(...arguments);\r\n    }\r\n\r\n    showConfirm(msg, confirmCallback, refuseCallback, confirmText='sure', refuseText='no' ) {\r\n        this.widget.showConfirm(...arguments);\r\n    }\r\n\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/game/play/controler-actor.js\n// module id = 29\n// module chunks = 0","import {globalData} from 'Src/js/global-data.js';\r\nimport Stage from '../stage.js';\r\nimport ChessboardActor from './chessboard-actor.js';\r\nimport TimekeeperActor from './timekeeper-actor.js';\r\nimport PlayerActor from './player-actor.js';\r\nimport RobotActor from './robot-actor.js';\r\nimport ControlerActor from './controler-actor.js';\r\n\r\n\r\n\r\nexport default class PlayStage extends Stage {\r\n\r\n    constructor(game, view) {\r\n        super(game, view);\r\n        this.name = 'play';\r\n        // this.settingActor;\r\n\r\n        this.chessboradActor;\r\n        this.timeCounterActor;\r\n        this.player1Actor; // 玩家 1 固定玩家\r\n        this.controlerActor;\r\n\r\n        this.pieceStack = []; // 每一步下子记录\r\n        this.undoStack = []; // 上一次悔棋记录，用于撤销悔棋\r\n        this.pieceTypes = ['black', 'white'];\r\n        this.playingActor; // 当前需要下子的玩家是黑子还是白子 ， 'black', 'white'\r\n\r\n    }\r\n\r\n    init() {\r\n        super.init();\r\n        this.chessboradActor = this.createActor('Chessboard');\r\n        this.timekeeperActor = this.createActor('Timekeeper');\r\n        this.player1Actor = this.createActor('Player', 'player1');\r\n        this.controlerActor = this.createActor('Controler');\r\n    }\r\n\r\n    handleActorBroadcast() {\r\n        return {\r\n            // 下子\r\n            putPiece: (data)=>{\r\n                if (this.playingActor.pieceType !== data.pieceType) return;\r\n\r\n                this.chessboradActor.receivePiece(data.pieceType, data.crood);\r\n                this.pieceStack.push(data);\r\n                this.togglePlaying();\r\n            },\r\n\r\n            // 悔棋\r\n            undo: (player)=>{\r\n\r\n            },\r\n\r\n            // 撤销悔棋\r\n            undoundo: (player)=>{\r\n\r\n            },\r\n\r\n            // 认输\r\n            giveIn: (player)=>{\r\n                // this.gameover();\r\n            },\r\n\r\n            // 时间到\r\n            timeup: (data)=>{\r\n                let winner = data.player1 === data.player2 ? null : data.player1 > data.player2 ? this.player2Actor : this.player1Actor;\r\n                let msg = winner ? '耗时少者获胜' : '耗时相同';\r\n                this.gameover({winner, msg});\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    createActorConstructors() {\r\n        return {\r\n            Chessboard: ChessboardActor,\r\n            Timekeeper: TimekeeperActor,\r\n            Player: PlayerActor,\r\n            Robot: RobotActor,\r\n            Controler: ControlerActor\r\n        }\r\n    }\r\n\r\n    activate(data) {\r\n        super.activate();\r\n        this.time = data.time;\r\n        this.mode = data.mode;\r\n\r\n        if (this.mode === 'duet') {\r\n            this.player2Actor = this.createActor('Player', 'player2');\r\n        } else {\r\n            this.player2Actor = this.createActor('Robot', 'player2', true);\r\n        }\r\n\r\n        this.timekeeperActor.setLimitTime(this.time);\r\n        this.start();\r\n    }\r\n\r\n    start() {\r\n        this.pieceStack = [];\r\n        this.undoStack = [];\r\n\r\n        // 重新分配两个玩家黑白子\r\n        let player1PieceTypeIndex = (Math.random() * 2)|0;\r\n\r\n        let play1ResetData = {\r\n            pieceType: this.pieceTypes[player1PieceTypeIndex],\r\n            avatar: globalData.player1.avatar\r\n        };\r\n\r\n        let play2ResetData = {\r\n            pieceType: this.pieceTypes[1 - player1PieceTypeIndex],\r\n            avatar: this.player2Actor.isRobot ? 'robot' : globalData.player2.avatar\r\n        };\r\n\r\n        this.player1Actor.reset(play1ResetData);\r\n        this.player2Actor.reset(play2ResetData);\r\n\r\n\r\n        let playingActor = play1ResetData.pieceType === this.pieceTypes[0] ? this.player1Actor: this.player2Actor;\r\n\r\n        this.controlerActor.showMsg('正在重新分配黑白子...', 20, ()=>{\r\n            this.setPlaying(playingActor); // 黑子先走\r\n            this.unlock();\r\n\r\n            this.dispatch('start');\r\n        });\r\n    }\r\n\r\n    setPlaying(playingActor) {\r\n        this.playingActor = playingActor;\r\n        this.dispatch('setPlaying', this.playingActor);\r\n    }\r\n\r\n    togglePlaying() {\r\n        this.setPlaying(this.playingActor===this.player1Actor?this.player2Actor:this.player1Actor)\r\n    }\r\n\r\n    // 执行确认操作时，需要锁定游戏\r\n    lock() {\r\n        this.dispatch('lock');\r\n    }\r\n\r\n    unlock() {\r\n        this.dispatch('unlock');\r\n    }\r\n\r\n    gameover(overData) {\r\n        this.dispatch('gameover', overData);\r\n    }\r\n\r\n\r\n\r\n\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/game/play/play-stage.js\n// module id = 30\n// module chunks = 0","import Actor from '../actor.js';\r\n\r\n\r\nexport default class PlayerActor extends Actor {\r\n    init(role) {\r\n        super.init(...arguments);\r\n        // 因玩家公用一个 playerActor 类，需根据玩家角色构建对象\r\n        this.role = role;\r\n        this.pieceType;\r\n        this.myTurn = false;\r\n    }\r\n\r\n    handleStageDispatch() {\r\n        return {\r\n            setPlaying: (playingActor) => {\r\n                this.myTurn = playingActor === this;\r\n            }\r\n        }\r\n    }\r\n\r\n    putPiece(crood) {\r\n        if (this.myTurn) {\r\n            this.broadcast('putPiece', {pieceType: this.pieceType, crood: crood});\r\n        }\r\n    }\r\n\r\n    makeWidgetData(resetData) {\r\n        return resetData\r\n    }\r\n\r\n    reset(data) {\r\n        super.reset(...arguments);\r\n        if (!data) return;\r\n        this.pieceType = data.pieceType;\r\n        this.avatar = data.avatar;\r\n    }\r\n\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/game/play/player-actor.js\n// module id = 31\n// module chunks = 0","import PlayActor from '../actor.js';\r\n\r\n\r\nexport default class ControlerActor extends PlayActor {\r\n    init() {\r\n        super.init();\r\n        this.totalTime = 0;\r\n        this.playerTime = {\r\n            'player1': 0,\r\n            'player2': 0\r\n        };\r\n        this.playingPlayer = 'player1';\r\n        this.limitTime = 0;\r\n        this.T;\r\n    }\r\n\r\n    setLimitTime(limitTime) {\r\n        this.limitTime = limitTime;\r\n    }\r\n\r\n    handleStageDispatch() {\r\n        return {\r\n            setPlaying: (playingActor)=>{\r\n                this.playingPlayer = playingActor.role;\r\n            },\r\n\r\n            start: ()=>{\r\n                this.totalTime = 0;\r\n                this.playerTime = {\r\n                    'player1': 0,\r\n                    'player2': 0\r\n                };\r\n                this.widget.setData(this.getWidgetTimeData());\r\n            },\r\n\r\n            lock: ()=>{\r\n                this.stopTick()\r\n            },\r\n\r\n            unlock: ()=>{\r\n                this.startTick()\r\n            }\r\n        }\r\n    }\r\n\r\n    makeWidgetData() {\r\n        // 重置 actor 时，需要重置它所使用的 widget, 这里返回的对象，就是用来记录一些 widget 初始状态的数据\r\n        return this.getWidgetTimeData();\r\n    }\r\n\r\n    getTimeText(second) {\r\n        return `${(second / 60) | 0} : ${(second % 60)}`;\r\n    }\r\n\r\n    getWidgetTimeData() {\r\n\r\n        return {\r\n            'total': this.getTimeText(this.totalTime),\r\n            'left': this.getTimeText(this.playerTime['player1']),\r\n            'right': this.getTimeText(this.playerTime['player2']),\r\n        }\r\n    }\r\n\r\n    timeup() {\r\n        this.broadcast('timeup', this.playerTime);\r\n    }\r\n\r\n    startTick() {\r\n        this.T = setInterval(()=>{\r\n            // console.log(this.totalTime);\r\n            this.totalTime += 1;\r\n            if (this.totalTime > this.limitTime * 60) {\r\n                this.timeup();\r\n                return;\r\n            }\r\n\r\n            this.playerTime[this.playingPlayer] += 1;\r\n            this.playerTime[(this.playingPlayer==='player1'?'player2':'player1')] = this.totalTime - this.playerTime[this.playingPlayer];\r\n\r\n            this.widget.updateTime(this.getWidgetTimeData());\r\n        }, 1000);\r\n    }\r\n\r\n    stopTick() {\r\n        clearInterval(this.T);\r\n    }\r\n\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/game/play/timekeeper-actor.js\n// module id = 33\n// module chunks = 0","import Game from './game/game.js';\r\nimport View from './view/dom-view/view.js';\r\n\r\nvar view = new View();\r\nvar game = new Game(view);\r\n\r\nview.init();\r\ngame.init();\r\ngame.start();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/main.js\n// module id = 34\n// module chunks = 0","export default class Page {\r\n    constructor() {\r\n        this.widgets = [];\r\n        this.data;\r\n        this.widgetFactory;\r\n    }\r\n\r\n    init() {\r\n        let WidgetConstructors = this.createWidgetConstructors();\r\n        this.widgetFactory = {\r\n            constructors: WidgetConstructors,\r\n            getWidget: (name)=>{\r\n                return (new WidgetConstructors[name](this));\r\n            }\r\n        }\r\n    }\r\n\r\n    createWidgetConstructors() {\r\n        // 重写此方法，返回包含本 page 要用到的所有 widget 构造函数，用于按需创建 widget\r\n    }\r\n\r\n    createWidget(name) {\r\n        // create widget\r\n        let widget = this.widgetFactory.getWidget(name);\r\n        widget.id = 'widget_' + (new Date).getTime() + (Math.random() * 1000000)|0;\r\n        this.widgets.push(widget);\r\n\r\n        return widget;\r\n    }\r\n\r\n    removeWidget(widget) {\r\n        this.widgets = this.widgets.filter( w => w !== widget );\r\n    }\r\n\r\n    show(data) {\r\n        this.data = data;\r\n    }\r\n\r\n    hide() {\r\n        \r\n    }\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/view/base-view/page.js\n// module id = 35\n// module chunks = 0","export default class View {\r\n    constructor() {\r\n        this.pages = {};\r\n    }\r\n    init() { }\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/view/base-view/view.js\n// module id = 36\n// module chunks = 0","import {EventEmitter} from 'Src/js/common.js';\r\n\r\nexport default class Widget extends EventEmitter {\r\n    constructor(page) {\r\n        super();\r\n        this.page = page;\r\n        this.widgetData;\r\n    }\r\n\r\n    // 组件初始化\r\n    init() {\r\n\r\n    }\r\n\r\n    handleActorOrder() {\r\n        // 处理 actor 指令\r\n        return {};\r\n    }\r\n\r\n    // 更新组件\r\n    setData(data) {\r\n        this.widgetData = data;\r\n        // update \r\n    }\r\n\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/view/base-view/widget.js\n// module id = 37\n// module chunks = 0","import Page from '../page.js';\r\nimport AvatarSelectorWidget from './avatarselector-widget.js';\r\n\r\nexport default class AvatarPage extends Page {\r\n\r\n    createWidgetConstructors() {\r\n        return { AvatarSelector: AvatarSelectorWidget}\r\n    }\r\n\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/view/dom-view/avatar/avatar-page.js\n// module id = 38\n// module chunks = 0","import Widget from '../widget.js';\r\n\r\nexport default class AvatarSelectorWidget extends Widget {\r\n    init() {\r\n        this.ePlayer1Avatars = this.page.elem.querySelectorAll('#player1-avatar .avatar');\r\n        this.ePlayer2Avatars = this.page.elem.querySelectorAll('#player2-avatar .avatar');\r\n        this.eSelectOk = this.page.elem.querySelector('#avatar-select-ok');\r\n        this.initEvent();\r\n\r\n        this.play1Avatar = 'avatar-1-1';\r\n        this.play2Avatar = 'avatar-2-1';\r\n    }\r\n\r\n    initEvent() {\r\n        [...this.ePlayer1Avatars].forEach((avatar)=>{\r\n            avatar.addEventListener('click', ()=>{ \r\n                [...this.ePlayer1Avatars].forEach(a=>a.classList.remove('selected'));\r\n                avatar.classList.add('selected');\r\n                this.play1Avatar = avatar.dataset.avatar;\r\n            });\r\n        });\r\n\r\n        [...this.ePlayer2Avatars].forEach((avatar)=>{\r\n            avatar.addEventListener('click', ()=>{\r\n                [...this.ePlayer2Avatars].forEach(a=>a.classList.remove('selected'));\r\n                avatar.classList.add('selected');\r\n                this.play2Avatar = avatar.dataset.avatar;\r\n            });\r\n        });\r\n\r\n        this.eSelectOk.addEventListener('click', ()=>{\r\n            this.trigger('select-done', {\r\n                play1Avatar: this.play1Avatar,\r\n                play2Avatar: this.play2Avatar\r\n            });\r\n        });\r\n\r\n    }\r\n\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/view/dom-view/avatar/avatarselector-widget.js\n// module id = 39\n// module chunks = 0","import Page from '../page.js';\r\nimport SettingWidget from './setting-widget.js';\r\n\r\nexport default class GatePage extends Page {\r\n    createWidgetConstructors() {\r\n        return { Setting: SettingWidget}\r\n    }    \r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/view/dom-view/gate/gate-page.js\n// module id = 40\n// module chunks = 0","import Widget from '../widget.js';\r\n\r\nexport default class SettingWidget extends Widget {\r\n    init() {\r\n        this.eTime = this.page.elem.querySelectorAll('#gate-time .option');\r\n        this.eMode = this.page.elem.querySelectorAll('#gate-mode .option');\r\n        this.initEvent();\r\n\r\n        this.time = 5;\r\n        this.mode = 'duet';\r\n    }\r\n\r\n    initEvent() {\r\n        [...this.eTime].forEach((time)=>{\r\n            time.addEventListener('click', ()=>{ \r\n                [...this.eTime].forEach(t=>t.classList.remove('selected'));\r\n                time.classList.add('selected');\r\n                this.time = time.dataset.time;\r\n            });\r\n        });\r\n\r\n        [...this.eMode].forEach((mode)=>{\r\n            mode.addEventListener('click', ()=>{\r\n                this.mode = mode.dataset.mode;\r\n                this.settingDone();\r\n            });\r\n        });\r\n\r\n    }\r\n\r\n\r\n    settingDone() {\r\n        this.trigger('setting-done', {\r\n            time: this.time,\r\n            mode: this.mode\r\n        });\r\n    }\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/view/dom-view/gate/setting-widget.js\n// module id = 41\n// module chunks = 0","import Widget from '../widget.js';\r\n\r\nexport default class ChessboardWidget extends Widget {\r\n    init() {\r\n        this.horizontal;\r\n        this.vertical;\r\n        this.eChessboard = this.page.elem.querySelector('.chessboard');\r\n        this.squares;\r\n        this.initEvent();\r\n    }\r\n\r\n    createSquares(horizontal, vertical) {\r\n        this.horizontal = horizontal; // 格子个数\r\n        this.vertical = horizontal; // 格子个数\r\n        let squaresHTML = new Array(this.horizontal*this.vertical).fill(1)\r\n                            .map(a=>`<div class=\"square\"><i></i></div>`).join('');\r\n        this.eChessboard.innerHTML = squaresHTML;\r\n        this.squares = this.eChessboard.querySelectorAll('.square');\r\n        [...this.squares].forEach((s,i)=>{\r\n            s.dataset.crood = `${(i%this.vertical)},${(i/this.horizontal)|0}`;\r\n        });\r\n    }\r\n\r\n\r\n    setPrevent(isPrevent) {\r\n        if (isPrevent) {\r\n            this.eChessboard.classList.add('prevent');\r\n        } else {\r\n            this.eChessboard.classList.remove('prevent');\r\n        }\r\n    }\r\n\r\n    initEvent() {\r\n        this.eChessboard.addEventListener('click', (e)=>{\r\n            if (this.eChessboard.classList.contains('prevent')||!e.target.parentNode.classList.contains('square')) return;\r\n\r\n            let square = e.target.parentNode;\r\n            let crood = square.dataset.crood.split(',');\r\n\r\n            if (square.classList.contains('black') || square.classList.contains('white')) {\r\n                return;\r\n            }\r\n            this.trigger('square-click', {x: crood[0], y: crood[1]});\r\n        });\r\n    }\r\n\r\n    setSquare(pieceType, crood) {\r\n        let square = this.squares[Number(crood.x) + crood.y * this.horizontal];\r\n\r\n        square.classList.remove('black','white');\r\n        square.classList.add(pieceType);\r\n    }\r\n\r\n    setActivePiece(pieceType) {\r\n        this.eChessboard.classList.remove('playing-black','playing-white')\r\n        this.eChessboard.classList.add('playing-'+pieceType);\r\n    }\r\n\r\n    clearChessboard() {\r\n        // 清空棋盘\r\n        [...this.squares].forEach(s=>s.className='square');\r\n    }\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/view/dom-view/play/chessboard-widget.js\n// module id = 42\n// module chunks = 0","import Widget from '../widget.js';\r\n\r\nexport default class ControlerWidget extends Widget {\r\n    init() {\r\n        this.eConfirm = this.page.elem.querySelector('.confirm');\r\n        this.eConfirmMsg = this.eConfirm.querySelector('.confirm-msg');\r\n\r\n        this.eConfirmHandle = this.eConfirm.querySelector('.confirm-handle');\r\n        this.eConfirmYesBtn = this.eConfirm.querySelector('.confirm-yes');\r\n        this.eConfirmNoBtn = this.eConfirm.querySelector('.confirm-no');\r\n\r\n        this.confirmCallback;\r\n        this.refuseCallback;\r\n    }\r\n\r\n    initEvent() {\r\n        this.eConfirmYesBtn.addEventListener('click', function() {\r\n            this.eConfirm.classList.remove('show');\r\n            this.confirmCallback();\r\n        });\r\n\r\n        this.eConfirmNoBtn.addEventListener('click', function() {\r\n            this.eConfirm.classList.remove('show');\r\n            this.refuseCallback();\r\n        });\r\n    }\r\n\r\n    showMsg(msg, dur, callback) {\r\n        this.eConfirmHandle.classList.add('hide');\r\n        this.eConfirmMsg.innerHTML = msg;\r\n\r\n        this.eConfirm.classList.add('show');\r\n\r\n        setTimeout(()=>{\r\n            callback();\r\n            this.eConfirm.classList.remove('show');\r\n        }, dur);\r\n    }\r\n\r\n    showConfirm(msg, confirmCallback, refuseCallback, confirmText, refuseText) {\r\n        this.eConfirmHandle.classList.add('show');\r\n        this.eConfirmYesBtn.innerHTML = confirmText;\r\n        this.eConfirmNoBtn.innerHTML = refuseText;\r\n        this.eConfirmMsg.innerHTML = msg;\r\n\r\n        this.confirmCallback = confirmCallback;\r\n\r\n        this.eConfirm.classList.add('show');\r\n    }\r\n\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/view/dom-view/play/controler-widget.js\n// module id = 43\n// module chunks = 0","import Page from '../page.js';\r\nimport ChessboardWidget from './chessboard-widget.js';\r\nimport TimekeeperWidget from './timekeeper-widget.js';\r\nimport PlayerWidget from './player-widget.js';\r\nimport RobotWidget from './robot-widget.js';\r\nimport ControlerWidget from './controler-widget.js';\r\n\r\nexport default class PlayPage extends Page {\r\n    createWidgetConstructors() {\r\n        return {\r\n            Chessboard: ChessboardWidget,\r\n            Timekeeper: TimekeeperWidget,\r\n            Player: PlayerWidget,\r\n            Robot: RobotWidget,\r\n            Controler: ControlerWidget\r\n        }\r\n    }  \r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/view/dom-view/play/play-page.js\n// module id = 44\n// module chunks = 0","import Widget from '../widget.js';\r\n\r\nexport default class PlayerWidget extends Widget {\r\n    init() {\r\n        this.ePlayer;\r\n    }\r\n\r\n    setType(playerType) {\r\n        thie.ePlayer = this.elem.querySelector(`.${playerType}`);\r\n        if (is) {\r\n\r\n        }\r\n    }\r\n\r\n    initEvent() {\r\n\r\n    }\r\n\r\n    setData(data) {\r\n        \r\n    }\r\n\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/view/dom-view/play/player-widget.js\n// module id = 45\n// module chunks = 0","import Widget from '../widget.js';\r\n\r\nexport default class RobotWidget extends Widget {\r\n    init() {\r\n\r\n    }\r\n\r\n    initEvent() {\r\n\r\n    }\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/view/dom-view/play/robot-widget.js\n// module id = 46\n// module chunks = 0","import Widget from '../widget.js';\r\n\r\nexport default class TimekeeperWidget extends Widget {\r\n    init() {\r\n        this.eLeft = this.page.elem.querySelector('.time-left');\r\n        this.eTotal = this.page.elem.querySelector('.time-total');\r\n        this.eRight = this.page.elem.querySelector('.time-right');\r\n\r\n    }\r\n\r\n    updateTime(timeData) {\r\n        this.eLeft.innerHTML = timeData.left;\r\n        this.eRight.innerHTML = timeData.right;\r\n        this.eTotal.innerHTML = timeData.total;\r\n    }\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/view/dom-view/play/timekeeper-widget.js\n// module id = 47\n// module chunks = 0"],"sourceRoot":""}