{"version":3,"sources":["webpack:///webpack/bootstrap 9849b3741fb2d59b6355","webpack:///./index.js"],"names":["Point","radius","color","Math","random","join","prevCrood","ctx","croods2D","position","clone","fillStyle","beginPath","arc","x","y","scale","yScale","PI","fill","F3","Obj","Effect","renderer","scene","cvs","xOffset","waveHeight","waveWidth","col","colPointNum","pointGroup","add","resize","width","height","init","set","stepWidth","i","delta","count","z","cos","sin","children","addTick","update","render","Time","window","bannerInit","getContext","Scene","Renderer","effect","perspective","origin","Vector3","p","animate","TIME","start","document","querySelector"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;ACtCA;;KAEMA,K;;;AACF,sBAAsB;AAAA,aAAVC,MAAU,uEAAH,CAAG;;AAAA;;AAAA;;AAElB,eAAKA,MAAL,GAAcA,MAAd;AACA,eAAKC,KAAL,GAAa,UAAQ,CAACC,KAAKC,MAAL,KAAc,GAAd,GAAkB,CAAnB,EAAqBD,KAAKC,MAAL,KAAc,GAAd,GAAkB,CAAvC,EAAyCD,KAAKC,MAAL,KAAc,GAAd,GAAkB,CAA3D,EAA8DD,KAAKC,MAAL,EAA9D,EAA6EC,IAA7E,CAAkF,GAAlF,CAAR,GAA+F,GAA5G;AACA,eAAKC,SAAL,GAAiB,IAAjB;AAJkB;AAKrB;;;;gCACMC,G,EAAK;AACR,kBAAKD,SAAL,GAAiB,KAAKA,SAAL,IAAkB,KAAKE,QAAL,CAAcC,QAAd,CAAuBC,KAAvB,EAAnC;;AAEAH,iBAAII,SAAJ,GAAgB,MAAhB;AACA;AACAJ,iBAAIK,SAAJ;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACAL,iBAAIM,GAAJ,CACI,KAAKL,QAAL,CAAcC,QAAd,CAAuBK,CAD3B,EAEI,KAAKN,QAAL,CAAcC,QAAd,CAAuBM,CAF3B,EAGI,KAAKd,MAAL,GAAc,KAAKO,QAAL,CAAcQ,KAA5B,GAAoC,KAAKC,MAH7C,EAGqD,CAHrD,EAGwDd,KAAKe,EAAL,GAAU,CAHlE;AAIAX,iBAAIY,IAAJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAKb,SAAL,GAAiB,KAAKE,QAAL,CAAcC,QAAd,CAAuBC,KAAvB,EAAjB;AACH;;;;GA3CeU,GAAGC,G;;KA8CjBC,M;;;AACF,qBAAYC,QAAZ,EAAsBC,KAAtB,EAA6BC,GAA7B,EAAkC;AAAA;;AAAA;;AAE9B,gBAAKF,QAAL,GAAgBA,QAAhB;AACA,gBAAKC,KAAL,GAAaA,KAAb;AACA,gBAAKC,GAAL,GAAWA,GAAX;;AAEA,gBAAKC,OAAL,GAAe,CAAf;AACA,gBAAKC,UAAL,GAAkB,GAAlB,CAP8B,CAOP;AACvB,gBAAKC,SAAL,GAAiB,CAAjB,CAR8B,CAQV;;AAEpB,gBAAKC,GAAL,GAAW,EAAX;AACA,gBAAKC,WAAL,GAAmB,EAAnB;;AAEA,gBAAKC,UAAL,GAAkB,IAAIX,GAAGC,GAAP,EAAlB;AACA,gBAAKG,KAAL,CAAWQ,GAAX,CAAe,OAAKD,UAApB;;AAEA,gBAAKE,MAAL,CAAYR,IAAIS,KAAhB,EAAuBT,IAAIU,MAA3B;AACA,gBAAKC,IAAL;AAjB8B;AAkBjC;;;;gCACMF,K,EAAOC,M,EAAQ;AAClB,kBAAKV,GAAL,CAASS,KAAT,GAAiBA,KAAjB;AACA,kBAAKT,GAAL,CAASU,MAAT,GAAkBA,MAAlB;AACA,kBAAKJ,UAAL,CAAgBtB,QAAhB,CAAyB4B,GAAzB,CAA6B,KAAKZ,GAAL,CAASS,KAAT,GAAe,CAA5C,EAA+C,KAAKT,GAAL,CAASU,MAAxD,EAAgE,CAAhE;;AAEA;AACA;AACA,kBAAKG,SAAL,GAAiBJ,QAAQ,GAAR,GAAc,KAAKL,GAApC;AACA;AACH;;;gCACM;AACH;AACA,kBAAK,IAAIU,IAAI,CAAb,EAAgBA,IAAI,KAAKV,GAAL,GAAW,KAAKC,WAApC,EAAiDS,GAAjD,EAAsD;AAClD,sBAAKR,UAAL,CAAgBC,GAAhB,CACI,IAAIhC,KAAJ,CAAU,CAAV,CADJ;AAGH;AACJ;;;gCACMwC,K,EAAO;AACV,kBAAKd,OAAL,IAAiBc,QAAM,IAAvB;AACA;AACA;AACA;AACA;AACA,kBAAK,IAAI1B,IAAI,EAAE,KAAKe,GAAL,GAAW,CAAb,IAAkB,CAA1B,EAA6BY,QAAQ,CAA1C,EAA6C3B,KAAK,CAAC,KAAKe,GAAL,GAAW,CAAZ,IAAiB,CAAnE,EAAsEf,GAAtE,EAA2E;AACvE;;AAEI;;AAEJ;AACA,sBAAK,IAAI4B,IAAI,CAAC,CAAd,EAAiBA,IAAI,CAAC,KAAKZ,WAAN,GAAoB,CAAzC,EAA6CY,GAA7C,EAAmD;;AAE/C;AACA;AACA;;;AAGA,yBAAI3B,IAAIZ,KAAKwC,GAAL,CAAS7B,IAAEX,KAAKe,EAAP,GAAU,KAAKU,SAAf,GAA2B,KAAKF,OAAzC,IAAkDvB,KAAKyC,GAAL,CAASF,IAAEvC,KAAKe,EAAP,GAAU,KAAKU,SAAf,GAA2B,KAAKF,OAAzC,CAAlD,GAAsG,KAAKC,UAAnH;AACA;AACA;AACA,0BAAKI,UAAL,CAAgBc,QAAhB,CAAyBJ,KAAzB,EAAgCxB,MAAhC,GAAyC,CAAC,CAACF,CAAD,GAAK,GAAN,IAAY,KAAKY,UAA1D;AACA,0BAAKI,UAAL,CAAgBc,QAAhB,CAAyBJ,KAAzB,EAAgChC,QAAhC,CAAyC4B,GAAzC,CACIvB,IAAI,KAAKwB,SADb,EAEIvB,IAAI,KAAKuB,SAFb,EAGII,IAAI,KAAKJ,SAHb;AAKAG;AACH;AACJ;AACD;AACA;AACA;AACH;;;mCACS;AAAA;;AACN,kBAAKK,OAAL,CAAa,UAACN,KAAD,EAAS;AAClB,wBAAKO,MAAL,CAAYP,KAAZ;AACA,wBAAKjB,QAAL,CAAcyB,MAAd,CAAqB,OAAKxB,KAA1B;AACH,cAHD;AAIH;;;;GA9EgBJ,GAAG6B,I;;AAiFxBC,QAAOC,UAAP,GAAoB,UAAS1B,GAAT,EAAc;AAC9B,SAAIlB,MAAMkB,IAAI2B,UAAJ,CAAe,IAAf,CAAV;;AAEA,SAAI5B,QAAQ,IAAIJ,GAAGiC,KAAP,EAAZ;AACA,SAAI9B,WAAW,IAAIH,GAAGkC,QAAP,CAAgB/C,GAAhB,EAAqBkB,GAArB,CAAf;AACA,SAAI8B,SAAS,IAAIjC,MAAJ,CAAWC,QAAX,EAAqBC,KAArB,EAA4BC,GAA5B,CAAb;AACAL,QAAGoC,WAAH,CAAeC,MAAf,GAAwB,IAAIrC,GAAGsC,OAAP,CAAejC,IAAIS,KAAJ,GAAU,CAAzB,EAA4B,CAA5B,CAAxB;AACAd,QAAGoC,WAAH,CAAeG,CAAf,GAAmB,IAAnB;AACAJ,YAAOK,OAAP;;AAEAxC,QAAGyC,IAAH,CAAQC,KAAR;AACH,EAXD;AAYAX,YAAWY,SAASC,aAAT,CAAuB,QAAvB,CAAX,E","file":"entry.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 9849b3741fb2d59b6355","// import * as F3 from './f3/f3.js'\n\nclass Point extends F3.Obj {\n    constructor(radius=5) {\n        super();\n        this.radius = radius;\n        this.color = 'rgba('+[Math.random()*255|0,Math.random()*255|0,Math.random()*255|0, Math.random()].join(',')+')';\n        this.prevCrood = null;\n    }\n    render(ctx) {\n        this.prevCrood = this.prevCrood || this.croods2D.position.clone();\n\n        ctx.fillStyle = \"#fff\";\n        // ctx.fillStyle = this.color;\n        ctx.beginPath();\n\n\n        // console.log(\n        //     this.croods2D.position.x, \n        //     this.croods2D.position.y,\n        //     this.radius * this.croods2D.scale + 1, \n        //     this.radius * this.croods2D.scale + 1\n        // );\n\n        // if (this.croods2D.scale < 5)\n        // ctx.fillRect(\n        //     this.croods2D.position.x, \n        //     this.croods2D.position.y,\n        //     this.radius * this.croods2D.scale * this.yScale, \n        //     this.radius * this.croods2D.scale * this.yScale\n        // );\n        ctx.arc(\n            this.croods2D.position.x, \n            this.croods2D.position.y, \n            this.radius * this.croods2D.scale * this.yScale, 0, Math.PI * 2);\n        ctx.fill();\n\n        // ctx.strokeStyle = this.color;\n        // ctx.lineWidth = this.radius * this.zScale;\n        // ctx.lineCap = \"round\";\n        // ctx.beginPath();\n        // ctx.moveTo(this.croods2D.position.x, this.croods2D.position.y);\n        // ctx.lineTo(this.prevCrood.x, this.prevCrood.y);\n        // ctx.stroke();\n        this.prevCrood = this.croods2D.position.clone();\n    }\n}\n\nclass Effect extends F3.Time {\n    constructor(renderer, scene, cvs) {\n        super();\n        this.renderer = renderer;\n        this.scene = scene;\n        this.cvs = cvs;\n        \n        this.xOffset = 0;\n        this.waveHeight = 0.4; // 波高\n        this.waveWidth = 8; // 波长\n\n        this.col = 25;\n        this.colPointNum = 25;\n        \n        this.pointGroup = new F3.Obj();\n        this.scene.add(this.pointGroup);\n\n        this.resize(cvs.width, cvs.height);\n        this.init();\n    }\n    resize(width, height) {\n        this.cvs.width = width;\n        this.cvs.height = height;\n        this.pointGroup.position.set(this.cvs.width/2, this.cvs.height, 0);\n\n        // this.waveHeight = height/2;\n        // this.waveWidth = this.waveHeight * 4;\n        this.stepWidth = width * 1.5 / this.col;\n        // console.log(this.stepWidth);\n    }\n    init() {\n        // create point\n        for (let i = 0; i < this.col * this.colPointNum; i++) {\n            this.pointGroup.add(\n                new Point(3)\n            );\n        }\n    }\n    update(delta) {\n        this.xOffset += (delta/2000);\n        // if (this.xOffset > this.waveWidth*2) {\n        //     this.xOffset -= this.waveWidth*2;\n        // }\n        // console.log(this.xOffset);\n        for (let x = -(this.col - 1) / 2, count = 0; x <= (this.col - 1) / 2; x++) {\n            // let zOffset = Math.cos((x + this.xOffset) * Math.PI / this.waveWidth) * this.waveWidth * 2;\n\n                // let zOffset =  Math.cos(( x ) * Math.PI / this.waveWidth ) * this.waveWidth * 2 + this.xOffset;\n            \n            // for (let z = 2; z > 2 - this.colPointNum; z-- ) {   \n            for (let z = -2; z > -this.colPointNum - 2 ; z-- ) {    \n\n                // let waveHeight = (Math.cos(( x + z + this.xOffset) * Math.PI / this.waveWidth) + 1) * this.waveHeight / 2;\n                // console.log(waveHeight);\n                // let y = Math.cos((z + zOffset) * Math.PI / this.waveWidth) * this.waveHeight;\n\n\n                let y = Math.cos(x*Math.PI/this.waveWidth + this.xOffset)*Math.sin(z*Math.PI/this.waveWidth + this.xOffset) * this.waveHeight;\n                // console.log(count);\n                // console.log(x)\n                this.pointGroup.children[count].yScale = (-y + 0.6)/(this.waveHeight);\n                this.pointGroup.children[count].position.set(\n                    x * this.stepWidth,\n                    y * this.stepWidth,\n                    z * this.stepWidth\n                );\n                count++;\n            }\n        }\n        // this.pointGroup.rotation.y += 0.002;\n        // this.pointGroup.rotation.x += 0.002;\n        // this.pointGroup.rotation.z += 0.002;\n    }\n    animate() {\n        this.addTick((delta)=>{\n            this.update(delta);\n            this.renderer.render(this.scene);\n        });\n    }\n}\n\nwindow.bannerInit = function(cvs) {\n    let ctx = cvs.getContext('2d');\n\n    let scene = new F3.Scene()\n    let renderer = new F3.Renderer(ctx, cvs);\n    let effect = new Effect(renderer, scene, cvs);\n    F3.perspective.origin = new F3.Vector3(cvs.width/2, 0);\n    F3.perspective.p = 1200;\n    effect.animate();\n\n    F3.TIME.start();\n}\nbannerInit(document.querySelector('canvas'));\n\n\n// WEBPACK FOOTER //\n// ./index.js"],"sourceRoot":""}