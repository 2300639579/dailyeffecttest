<!DOCTYPE html>
<html lang="en">
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta charset="UTF-8">
	<title>ios-select</title>
</head>
<body>

<!--<div class="select-wrap">
	<ul class="select-options">
		<li class="select-option">a0</li>
		<li class="select-option">a1</li>
		<li class="select-option">a2</li>
		<li class="select-option">a3</li>
		<li class="select-option">a4</li>
		<li class="select-option">a5</li>
		<li class="select-option">a6</li>
		<li class="select-option">a7</li>
		<li class="select-option">a8</li>
		<li class="select-option">a9</li>
	</ul>
	<div class="highlight">
		<ul class="highlight-list">
			<li class="highlight-item"></li>
		</ul>
	</div>
</div>-->

<!--<div id="iosSelector" style="position: relative; height: 300px; top: 100px;"></div>-->
<!--
<div class="highlight">
	<ul class="highlight-list">
		<li class="highlight-item"></li>
	</ul>
</div>
-->

<div class="date-selector">
	<div class="year"></div>
	<div class="month"></div>
	<div class="day"></div>
</div>


<script src="dist/index.js"></script>
<script>
// let iosSelector = new IosSelector({
//   el: '#iosSelector',
//   count: 20,
//   source: [
//     { value: 1, text: '01' },
//     { value: 2, text: '02' },
//     { value: 3, text: '03' },
//     { value: 4, text: '04' },
//     { value: 5, text: '05' },
//     { value: 6, text: '06' },
//     { value: 7, text: '07' },
//     { value: 8, text: '08' }
//   ],
//   onChange: (selected) => { console.log(selected);}
// });


function getYears() {
	let currentYear = new Date().getFullYear();
	let years = [];

	for (let i = currentYear - 20; i < currentYear + 20; i++) {
		years.push({
			value: i,
			text: i + '年'
		});
	}
	return years;
}

function getMonths(year) {
	let months = [];
	for (let i = 1; i <= 12; i++) {
		months.push({
			value: i,
			text: i + '月'
		});
	}
	return months;
}

function getDays(year, month) {
	let dayCount = new Date(year,month,0).getDate(); 
	let days = [];

	for (let i = 1; i <= dayCount; i++) {
		days.push({
			value: i,
			text: i + '日'
		});
	}

	return days; 
}

let currentYear = new Date().getFullYear();
let currentMonth = 1;
let currentDay = 1;

yearSource = getYears();
monthSource = getMonths();
daySource = getDays(currentYear, currentMonth);

let yearSelector = new IosSelector({
	source: yearSource,
	onChange: (selected) => {
		daySource = getDays(currentYear, currentMonth);
		daySelector.updateSource(daySource);
	}
});
let monthSelector = new IosSelector({
	source: monthSource,
	onChange: (selected) => {
		daySource = getDays(currentYear, currentMonth);
		daySelector.updateSource(daySource);
	}
});
let daySelector = new IosSelector({
	source: [],
	onChange: (selected) => {
		let monthSource = getMonths(selected.value);

	}
});




</script>
</body>
</html>
