{"version":3,"sources":["webpack:///webpack/bootstrap 9212889538bde1b084f5","webpack:///./index.js","webpack:///./vec2.js","webpack:///./time.js","webpack:///./~/tween.js/src/Tween.js","webpack:///./~/process/browser.js","webpack:///./stats.js"],"names":["stats","showPanel","document","body","appendChild","dom","obstruction","bigRaduis","smallRaduis","Ball","options","defaults","initPosition","radius","initV","key","position","clone","v","a","delta","second","add","multiplyScalar","sub","setLength","ctx","opacity","blur","Math","min","save","globalAlpha","fillStyle","beginPath","arc","x","y","PI","fill","isBreakBall","grd","createRadialGradient","addColorStop","globalCompositeOperation","restore","Connection","ball1","ball2","maxDis","isDie","isSeparate","subVectors","length","c1","r1","c2","r2","h","max","pi2","c2ToC1","d","u1","u2","getVec2","radians","cos","sin","abs","acos","angle1","angle","angle2","angle1a","angle1b","angle2a","angle2b","p1a","p1b","p2a","p2b","totalr","d2","handle1","handle2","handle3","handle4","keyPoints","calPoints","moveTo","bezierCurveTo","lineTo","BreakBall","maxOpacity","bornPos","bornA","bornADur","breakTime","breakA","breakADur","dieTime","status","timePass","separateTime","ball1Radius","random","ball2Radius","connection","break","destoryDur","die","update","draw","breakA1","breakA2","Painter","cvs","width","height","getContext","tick","breakBalls","offCvs","createElement","offCtx","createLinearGradient","i","fillRect","maxBallCount","addTick","initTtl","aniTime","push","clearRect","splice","drawImage","window","innerWidth","innerHeight","painter","start","Vector2","Object","defineProperties","prototype","get","set","value","isVector2","setScalar","scalar","setX","setY","setComponent","index","Error","getComponent","constructor","copy","w","undefined","console","warn","addVectors","addScalar","s","b","addScaledVector","subScalar","multiply","divide","divideScalar","clamp","clampScalar","minVal","maxVal","clampLength","floor","ceil","round","roundToZero","negate","dot","lengthSq","sqrt","lengthManhattan","normalize","atan2","distanceTo","distanceToSquared","dx","dy","distanceToManhattan","lerp","alpha","lerpVectors","v1","v2","equals","fromArray","array","offset","toArray","fromBufferAttribute","attribute","getX","getY","rotateAround","center","c","TIME","bodys","stop","t","addBody","timeBody","removeBody","indexOf","now","Date","getTime","last","handleFrame","requestAnimationFrame","cancelAnimationFrame","forEach","isStop","ticks","fn","Time","tweens","bind","tween","env","TWEEN","_tweens","getAll","removeAll","remove","time","preserve","process","hrtime","performance","Tween","object","_object","_valuesStart","_valuesEnd","_valuesStartRepeat","_duration","_repeat","_repeatDelayTime","_yoyo","_isPlaying","_reversed","_delayTime","_startTime","_easingFunction","Easing","Linear","None","_interpolationFunction","Interpolation","_chainedTweens","_onStartCallback","_onStartCallbackFired","_onUpdateCallback","_onCompleteCallback","_onStopCallback","to","properties","duration","property","Array","concat","call","stopChainedTweens","end","numChainedTweens","delay","amount","repeat","times","repeatDelay","yoyo","easing","interpolation","chain","arguments","onStart","callback","onUpdate","onComplete","onStop","elapsed","charAt","parseFloat","isFinite","tmp","k","Quadratic","In","Out","InOut","Cubic","Quartic","Quintic","Sinusoidal","Exponential","pow","Circular","Elastic","Back","Bounce","m","f","Utils","Bezier","n","pw","bn","Bernstein","CatmullRom","p0","p1","fc","Factorial","p2","p3","v0","t2","t3","root","define","module","exports","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","setTimeout","e","clearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","timeout","len","run","nextTick","args","Item","apply","title","browser","argv","version","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","Stats","mode","container","style","cssText","addEventListener","event","preventDefault","children","addPanel","panel","id","display","beginTime","prevTime","frames","fpsPanel","Panel","msPanel","self","memory","memPanel","REVISION","begin","usedJSHeapSize","jsHeapSizeLimit","domElement","setMode","fg","bg","Infinity","PR","devicePixelRatio","WIDTH","HEIGHT","TEXT_X","TEXT_Y","GRAPH_X","GRAPH_Y","GRAPH_WIDTH","GRAPH_HEIGHT","canvas","context","font","textBaseline","fillText","maxValue","default"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 9212889538bde1b084f5","import {Vector2 as Vec2} from './vec2.js';\nimport {TIME, Time} from './time.js';\n\nimport Stats from './stats.js';\nvar stats = new Stats();\nstats.showPanel( 1 ); // 0: fps, 1: ms, 2: mb, 3+: custom\ndocument.body.appendChild( stats.dom );\n\nlet obstruction = 0.1; // 空气阻力\nlet bigRaduis = 15;\nlet smallRaduis = 10;\n\nclass Ball {\n    constructor(options) {\n        let defaults = {\n            initPosition: new Vec2(),\n            radius: 15,\n            initV: new Vec2, // 初始速度\n        };\n\n        for (let key in defaults) {\n            options[key] = options[key] || defaults[key];\n        }\n        this.position = options.initPosition.clone();\n        this.v = options.initV;\n        this.a = new Vec2; // 加速度\n\n        this.options = options;\n    }\n\n    update(delta) {\n\n        let second = delta * 0.001;\n        let options = this.options;\n\n        this.v.add(this.a.clone().multiplyScalar(second));\n        \n        this.v.sub(this.v.clone().setLength(obstruction * second)); // 阻力减速\n        this.position.add(this.v.clone().multiplyScalar(second));\n        // console.log(this.position);\n    }\n\n    draw(ctx, opacity, blur) {\n\n        let options = this.options;\n\n        opacity = Math.min(opacity, 1);\n\n        ctx.save();\n\n        // ctx.shadowColor = 'red';\n        // ctx.shadowBlur = this.blur;\n        ctx.globalAlpha = opacity;\n        ctx.fillStyle = 'red';\n\n        ctx.beginPath();\n        ctx.arc(this.position.x, this.position.y, options.radius, 0, Math.PI * 2);\n        ctx.fill();\n\n\n        // 中间透明\n        \n        if (typeof this.isBreakBall) {\n            let grd = ctx.createRadialGradient(this.position.x, this.position.y, 0, this.position.x, this.position.y, options.radius * 0.8);\n            grd.addColorStop(0, 'rgba(255,0,255,0.3)');\n            grd.addColorStop(1, 'rgba(255,0,255,0)');\n            \n            ctx.globalAlpha = opacity * 0.5;\n            ctx.globalCompositeOperation = 'destination-out';\n            ctx.fillStyle = grd;\n            ctx.beginPath();\n            ctx.arc(this.position.x, this.position.y, options.radius, 0, Math.PI * 2);\n            ctx.fill();\n        }\n\n        ctx.restore();\n    }\n\n    die() {\n        //\n    }\n}\n\nclass Connection {\n    constructor(ball1, ball2) {\n        this.maxDis = (ball1.options.radius + ball2.options.radius) * 1.5;\n\n        this.isDie = false;\n\n        this.isSeparate = false;\n        this.ball1 = ball1;\n        this.ball2 = ball2;\n\n    }\n\n    update() {\n        this.isSeparate = this.isSeparate || (new Vec2().subVectors(this.ball1.position, this.ball2.position)).length() > this.ball1.options.radius + this.ball2.options.radius + 10;\n        // console.log(this.isSeparate);\n    }\n\n    calPoints(c1, r1, c2, r2, v, h, max) {\n        var pi2 = Math.PI / 2;\n        var c2ToC1 = new Vec2().subVectors(c1, c2);\n        var d = c2ToC1.length();\n        var u1, u2;\n\n        function getVec2(radians, length) {\n            return new Vec2(-Math.cos(radians), -Math.sin(radians)).setLength(length);\n        }\n\n        if (r1 == 0 || r2 == 0)\n            return;\n        if (d > max || d <= Math.abs(r1 - r2)) {\n            return;\n        } else if (d < r1 + r2) { // case circles are overlapping\n            u1 = Math.acos((r1 * r1 + d * d - r2 * r2) /\n                    (2 * r1 * d));\n            u2 = Math.acos((r2 * r2 + d * d - r1 * r1) /\n                    (2 * r2 * d));\n        } else {\n            u1 = 0;\n            u2 = 0;\n        }\n\n        var angle1 = c2ToC1.angle();\n        var angle2 = Math.acos((r1 - r2) / d);\n        var angle1a = angle1 + u1 + (angle2 - u1) * v;\n        var angle1b = angle1 - u1 - (angle2 - u1) * v;\n        var angle2a = angle1 + Math.PI - u2 - (Math.PI - u2 - angle2) * v;\n        var angle2b = angle1 - Math.PI + u2 + (Math.PI - u2 - angle2) * v;\n        var p1a = c1.clone().add(getVec2(angle1a, r1));\n        var p1b = c1.clone().add(getVec2(angle1b, r1));\n        var p2a = c2.clone().add(getVec2(angle2a, r2));\n        var p2b = c2.clone().add(getVec2(angle2b, r2));\n\n        // define handle length by the distance between\n        // both ends of the curve to draw\n        var totalr = (r1 + r2);\n        var d2 = Math.min(v * h, new Vec2().subVectors(p1a, p2a).length() / totalr);\n\n        // case circles are overlapping:\n        d2 *= Math.min(1, d * 2 / (r1 + r2));\n\n        r1 *= d2;\n        r2 *= d2;\n\n        let handle1 = p1a.clone().add(getVec2(angle1a - pi2, r1));\n        let handle2 = p2a.clone().add(getVec2(angle2a + pi2, r2));\n        let handle3 = p2b.clone().add(getVec2(angle2b - pi2, r2));\n        let handle4 = p1b.clone().add(getVec2(angle1b + pi2, r1));\n        return [p1a, p2a, p2b, p1b, handle1, handle2, handle3, handle4];\n    }\n\n    draw(ctx, opacity, blur) {\n        let keyPoints = this.calPoints(\n            this.ball1.position.clone(), \n            this.ball1.options.radius,\n            this.ball2.position.clone(), \n            this.ball2.options.radius, \n            0.3,\n            5.4,\n            this.maxDis\n        );\n\n        ctx.save();\n        if (keyPoints) {\n            // ctx.shadowColor = 'red';\n            // ctx.shadowBlur = this.blur;\n            ctx.globalAlpha = opacity;\n            ctx.globalCompositeOperation = 'source-over';\n            ctx.fillStyle = 'red';\n            ctx.beginPath();\n            ctx.moveTo(keyPoints[0].x, keyPoints[0].y);\n            ctx.bezierCurveTo(keyPoints[4].x, keyPoints[4].y, keyPoints[5].x,keyPoints[5].y, keyPoints[1].x, keyPoints[1].y);\n            ctx.lineTo(keyPoints[2].x, keyPoints[2].y);\n            ctx.bezierCurveTo(keyPoints[6].x, keyPoints[6].y, keyPoints[7].x,keyPoints[7].y, keyPoints[3].x, keyPoints[3].y);\n            ctx.lineTo(keyPoints[0].x, keyPoints[0].y);\n\n            ctx.fill();\n        }\n        ctx.restore();\n    }\n\n    die() {\n        this.isDie = true;\n        this.ball1 = null;\n        this.ball2 = null;            \n    }\n}\n\nclass BreakBall {\n    constructor(options) {\n        let defaults = {\n            maxOpacity: 1,\n\n            bornPos: new Vec2(),\n            bornA: new Vec2(5, 5), // 出生加速\n            bornADur: 1000, // 出生加速时间\n\n            breakTime: 2000, // 分裂时间\n            breakA: 5, // 标量，方向在运行的时候确定\n            breakADur: 1000, // 分裂加速时间\n            dieTime: 5000, // 消亡时间\n        };\n\n        for (let key in defaults) {\n            options[key] = options[key] || defaults[key];\n        }\n        this.options = options;\n\n        // 0 born\n        // 1 a done\n        // 2 break\n        // 3 break a done\n        // 4 die\n        this.status = 0; \n\n\n        this.timePass = 0;\n        this.separateTime = 0;\n        this.opacity = 1;\n\n\n        this.ball1Radius = bigRaduis * (1.2 - Math.random() * 0.4);\n        this.ball2Radius = smallRaduis * (1.2 - Math.random() * 0.4);\n\n        this.ball1 = new Ball({\n            initPosition: options.bornPos.clone(),\n            radius: this.ball1Radius,\n            initV: new Vec2, // 初始速度\n        });\n        this.ball1.a = options.bornA;\n        this.ball2;\n        this.connection;\n    }\n\n    update(delta) {\n        let options = this.options;\n        let second = delta / 1000;\n        let opacity = 1;\n\n        this.timePass += delta;\n\n        switch (this.status) {\n            case 0: \n                if (this.timePass < options.bornADur) {\n                    opacity = this.timePass / options.bornADur;\n                } else {\n                    this.status = 1;\n                    this.ball1.a = new Vec2;\n                }    \n                break;\n            case 1: \n                if (this.timePass >= options.breakTime) {\n                    this.status = 2;\n                    this.break(); // 生成 ball2, 设置分裂加速度\n                }\n                break;\n            case 2: \n                // console.log(this.ball1.v, this.ball2.v);\n                // console.log(this.ball1.v, this.ball2.v);\n                // console.log(this.ball1.position, this.ball2.position);\n                if (this.timePass >= options.breakTime + options.breakADur) {\n                    this.status = 3;\n                    this.ball1.a = new Vec2;\n                    this.ball2.a = new Vec2;\n                }\n                break;\n            case 3: \n                if (!this.separateTime && this.connection.isSeparate) {\n                    this.separateTime = this.timePass;\n                }\n                if (this.separateTime) {\n                    if (this.timePass < this.separateTime + this.options.destoryDur) {\n                        opacity = 1 - (this.timePass - this.separateTime) / \n                                    this.options.destoryDur;\n                    } else {\n                        this.status = 4;\n                        this.die();\n                    }\n                }\n                break;\n        }\n\n        // console.log(this.status, opacity);\n        this.opacity = Math.min(opacity, 1) * this.options.maxOpacity;\n\n        this.ball1 && this.ball1.update(delta);\n        this.ball2 && this.ball2.update(delta);\n        this.connection && !this.connection.isDie && this.connection.update(delta);\n    }\n\n    draw(ctx) {\n        this.ball1 && this.ball1.draw(ctx, this.opacity, this.blur);\n        this.ball2 && this.ball2.draw(ctx, this.opacity, this.blur);\n        this.connection && !this.isDie && this.connection.draw(ctx, this.opacity, this.blur);\n    }\n\n    break() {\n        this.ball2 = new Ball({\n            initPosition: this.ball1.position,\n            radius: this.ball2Radius,\n            initV: new Vec2, // 初始速度            \n        });\n\n        let breakA1 = new Vec2(Math.random(), Math.random());\n        breakA1.setLength(this.options.breakA);\n        \n        let breakA2 = breakA1.clone().multiplyScalar(-1);\n\n        this.ball1.a = breakA1;// 分裂加速度\n        this.ball2.a = breakA2;// 分裂加速度\n        this.connection = new Connection(this.ball1, this.ball2);\n    }\n\n    die() {\n        this.isDie = true;\n        this.ball1.die();\n        this.ball2.die();\n        this.connection.die();\n        this.ball1 = null;\n        this.ball2 = null;\n        this.connection = null;\n    }\n}\n\nclass Painter extends Time {\n    constructor(cvs) {\n        super();\n        this.cvs = cvs;\n        this.width = cvs.width;\n        this.height = cvs.height;\n        this.ctx = this.cvs.getContext('2d');\n\n        this.tick;\n\n        this.breakBalls = [];\n\n        this.offCvs = document.createElement('canvas');\n        this.offCvs.width = this.width;\n        this.offCvs.height = this.height;\n        this.offCtx = this.offCvs.getContext('2d');\n\n        let grd=this.offCtx.createLinearGradient(0, 0, this.width, 0);\n        for (let i = 0; i <= 10; i++) {\n            grd.addColorStop(i/10, i % 2 === 0 ? '#ff4621' : '#fffc21');\n        }\n        this.offCtx.fillStyle = grd;\n        this.offCtx.fillRect(0, 0, this.width, this.height);\n\n        this.maxBallCount =  20;\n    }\n\n    start() {\n        this.tick = this.addTick(this.tick);\n    }\n\n    tick(delta) {\n        stats.update();\n        if (this.breakBalls.length < this.maxBallCount) {\n            let a = new Vec2(Math.random() * 1, Math.random() * 1).setLength(Math.random() * 200);\n            let initTtl = Math.random() * 1000;\n\n            /*this.breakBalls.push(new BreakBall({\n                maxOpacity: 1,\n                bornPos: new Vec2(150, 150),\n                bornA: new Vec2(5, 5), // 出生加速\n                bornADur: 1000, // 出生加速时间\n\n                breakTime: 2000, // 分裂时间\n                breakA: 4, // 标量，方向在运行的时候确定\n                breakADur: 3000, // 分裂加速时间\n                dieTime: 6000, // 消亡时间\n            }));*/\n\n\n            let aniTime = Math.random() * 3000 + 5000;\n            let bornADur = aniTime * 0.2;\n            let breakTime = aniTime * 0.4;\n            let breakADur = aniTime * 0.2;\n            let breakA = (2000 - breakADur) * 10 / 2000\n\n            this.breakBalls.push(new BreakBall({\n                maxOpacity: Math.random() + 0.8,\n                bornPos: new Vec2(Math.random() * this.width, Math.random() * this.height),\n                bornA: new Vec2(Math.random() - 0.5, Math.random()-0.5).setLength(Math.random() * 20), // 出生加速\n                bornADur: bornADur, // 出生加速时间\n\n                breakTime: breakTime, // 分裂时间\n                breakA: 4, // 标量，方向在运行的时候确定\n                breakADur: breakADur, // 分裂加速时间\n                destoryDur: Math.random() * 300 + 1000\n                // dieTime: dieTime, // 消亡时间\n            }));\n        }\n        this.ctx.save();\n        this.ctx.clearRect(0, 0, this.width, this.height);\n\n        for(let i = this.breakBalls.length - 1; i >= 0; i--) {\n            if (this.breakBalls[i].isDie) {\n                this.breakBalls.splice(i, 1);\n            } else {\n                this.breakBalls[i].update(delta);\n                this.breakBalls[i].draw(this.ctx);\n            }\n        }\n\n        this.ctx.globalCompositeOperation = \"source-in\";\n        this.ctx.drawImage(this.offCvs, 0, 0);\n        // console.log(balls.length);\n        this.ctx.restore();\n    }\n}\n\n\n\nlet cvs = document.createElement('canvas');\n\ncvs.width = window.innerWidth;\ncvs.height = window.innerHeight;\n\ndocument.body.appendChild(cvs);\n\nlet painter = new Painter(cvs);\n\npainter.start();\nTIME.start();\n\n\n// WEBPACK FOOTER //\n// ./index.js","function Vector2( x, y ) {\r\n\r\n\tthis.x = x || 0;\r\n\tthis.y = y || 0;\r\n\r\n}\r\n\r\nObject.defineProperties( Vector2.prototype, {\r\n\r\n\t\"width\" : {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.x;\r\n\r\n\t\t},\r\n\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tthis.x = value;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t\"height\" : {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.y;\r\n\r\n\t\t},\r\n\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tthis.y = value;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\nObject.assign( Vector2.prototype, {\r\n\r\n\tisVector2: true,\r\n\r\n\tset: function ( x, y ) {\r\n\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetScalar: function ( scalar ) {\r\n\r\n\t\tthis.x = scalar;\r\n\t\tthis.y = scalar;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetX: function ( x ) {\r\n\r\n\t\tthis.x = x;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetY: function ( y ) {\r\n\r\n\t\tthis.y = y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetComponent: function ( index, value ) {\r\n\r\n\t\tswitch ( index ) {\r\n\r\n\t\t\tcase 0: this.x = value; break;\r\n\t\t\tcase 1: this.y = value; break;\r\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetComponent: function ( index ) {\r\n\r\n\t\tswitch ( index ) {\r\n\r\n\t\t\tcase 0: return this.x;\r\n\t\t\tcase 1: return this.y;\r\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor( this.x, this.y );\r\n\r\n\t},\r\n\r\n\tcopy: function ( v ) {\r\n\r\n\t\tthis.x = v.x;\r\n\t\tthis.y = v.y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tadd: function ( v, w ) {\r\n\r\n\t\tif ( w !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\r\n\t\t\treturn this.addVectors( v, w );\r\n\r\n\t\t}\r\n\r\n\t\tthis.x += v.x;\r\n\t\tthis.y += v.y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddScalar: function ( s ) {\r\n\r\n\t\tthis.x += s;\r\n\t\tthis.y += s;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddVectors: function ( a, b ) {\r\n\r\n\t\tthis.x = a.x + b.x;\r\n\t\tthis.y = a.y + b.y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddScaledVector: function ( v, s ) {\r\n\r\n\t\tthis.x += v.x * s;\r\n\t\tthis.y += v.y * s;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsub: function ( v, w ) {\r\n\r\n\t\tif ( w !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\r\n\t\t\treturn this.subVectors( v, w );\r\n\r\n\t\t}\r\n\r\n\t\tthis.x -= v.x;\r\n\t\tthis.y -= v.y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsubScalar: function ( s ) {\r\n\r\n\t\tthis.x -= s;\r\n\t\tthis.y -= s;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsubVectors: function ( a, b ) {\r\n\r\n\t\tthis.x = a.x - b.x;\r\n\t\tthis.y = a.y - b.y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmultiply: function ( v ) {\r\n\r\n\t\tthis.x *= v.x;\r\n\t\tthis.y *= v.y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmultiplyScalar: function ( scalar ) {\r\n\r\n\t\tthis.x *= scalar;\r\n\t\tthis.y *= scalar;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdivide: function ( v ) {\r\n\r\n\t\tthis.x /= v.x;\r\n\t\tthis.y /= v.y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdivideScalar: function ( scalar ) {\r\n\r\n\t\treturn this.multiplyScalar( 1 / scalar );\r\n\r\n\t},\r\n\r\n\tmin: function ( v ) {\r\n\r\n\t\tthis.x = Math.min( this.x, v.x );\r\n\t\tthis.y = Math.min( this.y, v.y );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmax: function ( v ) {\r\n\r\n\t\tthis.x = Math.max( this.x, v.x );\r\n\t\tthis.y = Math.max( this.y, v.y );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclamp: function ( min, max ) {\r\n\r\n\t\t// assumes min < max, componentwise\r\n\r\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\r\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclampScalar: function () {\r\n\r\n\t\tvar min = new Vector2();\r\n\t\tvar max = new Vector2();\r\n\r\n\t\treturn function clampScalar( minVal, maxVal ) {\r\n\r\n\t\t\tmin.set( minVal, minVal );\r\n\t\t\tmax.set( maxVal, maxVal );\r\n\r\n\t\t\treturn this.clamp( min, max );\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tclampLength: function ( min, max ) {\r\n\r\n\t\tvar length = this.length();\r\n\r\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\r\n\r\n\t},\r\n\r\n\tfloor: function () {\r\n\r\n\t\tthis.x = Math.floor( this.x );\r\n\t\tthis.y = Math.floor( this.y );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tceil: function () {\r\n\r\n\t\tthis.x = Math.ceil( this.x );\r\n\t\tthis.y = Math.ceil( this.y );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tround: function () {\r\n\r\n\t\tthis.x = Math.round( this.x );\r\n\t\tthis.y = Math.round( this.y );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\troundToZero: function () {\r\n\r\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\r\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tnegate: function () {\r\n\r\n\t\tthis.x = - this.x;\r\n\t\tthis.y = - this.y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdot: function ( v ) {\r\n\r\n\t\treturn this.x * v.x + this.y * v.y;\r\n\r\n\t},\r\n\r\n\tlengthSq: function () {\r\n\r\n\t\treturn this.x * this.x + this.y * this.y;\r\n\r\n\t},\r\n\r\n\tlength: function () {\r\n\r\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y );\r\n\r\n\t},\r\n\r\n\tlengthManhattan: function() {\r\n\r\n\t\treturn Math.abs( this.x ) + Math.abs( this.y );\r\n\r\n\t},\r\n\r\n\tnormalize: function () {\r\n\r\n\t\treturn this.divideScalar( this.length() || 1 );\r\n\r\n\t},\r\n\r\n\tangle: function () {\r\n\r\n\t\t// computes the angle in radians with respect to the positive x-axis\r\n\r\n\t\tvar angle = Math.atan2( this.y, this.x );\r\n\r\n\t\tif ( angle < 0 ) angle += 2 * Math.PI;\r\n\r\n\t\treturn angle;\r\n\r\n\t},\r\n\r\n\tdistanceTo: function ( v ) {\r\n\r\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\r\n\r\n\t},\r\n\r\n\tdistanceToSquared: function ( v ) {\r\n\r\n\t\tvar dx = this.x - v.x, dy = this.y - v.y;\r\n\t\treturn dx * dx + dy * dy;\r\n\r\n\t},\r\n\r\n\tdistanceToManhattan: function ( v ) {\r\n\r\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y );\r\n\r\n\t},\r\n\r\n\tsetLength: function ( length ) {\r\n\r\n\t\treturn this.normalize().multiplyScalar( length );\r\n\r\n\t},\r\n\r\n\tlerp: function ( v, alpha ) {\r\n\r\n\t\tthis.x += ( v.x - this.x ) * alpha;\r\n\t\tthis.y += ( v.y - this.y ) * alpha;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tlerpVectors: function ( v1, v2, alpha ) {\r\n\r\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\r\n\r\n\t},\r\n\r\n\tequals: function ( v ) {\r\n\r\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) );\r\n\r\n\t},\r\n\r\n\tfromArray: function ( array, offset ) {\r\n\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tthis.x = array[ offset ];\r\n\t\tthis.y = array[ offset + 1 ];\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttoArray: function ( array, offset ) {\r\n\r\n\t\tif ( array === undefined ) array = [];\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tarray[ offset ] = this.x;\r\n\t\tarray[ offset + 1 ] = this.y;\r\n\r\n\t\treturn array;\r\n\r\n\t},\r\n\r\n\tfromBufferAttribute: function ( attribute, index, offset ) {\r\n\r\n\t\tif ( offset !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Vector2: offset has been removed from .fromBufferAttribute().' );\r\n\r\n\t\t}\r\n\r\n\t\tthis.x = attribute.getX( index );\r\n\t\tthis.y = attribute.getY( index );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\trotateAround: function ( center, angle ) {\r\n\r\n\t\tvar c = Math.cos( angle ), s = Math.sin( angle );\r\n\r\n\t\tvar x = this.x - center.x;\r\n\t\tvar y = this.y - center.y;\r\n\r\n\t\tthis.x = x * c - y * s + center.x;\r\n\t\tthis.y = x * s + y * c + center.y;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n\r\nexport { Vector2 };\n\n\n// WEBPACK FOOTER //\n// ./vec2.js","import TWEEN from 'tween.js';\n\n/* 时间 */\nvar TIME = {\n\t// 所有时间body对象\n\tbodys : [],\n\tdelta: 16\n}\n\nvar stop = false;\nvar t;\nTIME.addBody = function(timeBody) {\n\tthis.bodys.push(timeBody);\n}\n\nTIME.removeBody = function(timeBody) {\n\tvar index = this.bodys.indexOf(timeBody);\n\n\tif (index !== -1) {\n\t\tthis.bodys.splice(index, 1);\n\t}\n}\nTIME.tick = (function() {\n\tvar now = (new Date()).getTime();\n\tvar last = now;\n\tvar delta;\n\treturn function() {\n\t\tdelta = now - last;\n\t\tdelta = delta > 500 ? 30 : (delta < 16? 16 : delta);\n\t\tTIME.delta = delta;\n\t\tlast = now;\n\n\t\tTIME.handleFrame(delta);\n\t\tif (!stop) {\n\t\t\tt = requestAnimationFrame(TIME.tick);\n\t\t\t// setTimeout(TIME.tick, 1000);\n\t\t}\t\t\n\t}\t\n})();\n\n\nTIME.start = function() {\n\tstop = false;\n\tcancelAnimationFrame(t);\n\tthis.tick();\n}\n\nTIME.stop = function() {\n\tcancelAnimationFrame(t);\n\tstop = true;\n}\n\nTIME.handleFrame = function(delta) { \n\n\tTIME.bodys.forEach(function(body) {\n\t\tif (!body.isStop) {\n\t\t\tbody.ticks.forEach(function(tick) {\n\t\t\t\ttick.fn && tick.fn(delta); \n\t\t\t});\n\t\t}\n\t});\n\n\tTWEEN.update();\n}\n\nwindow.TIME = TIME;\n\n/* 时间物体类，提供两个时机，帧更新，固定间隔更新，每一个有时间概念的物体，就继承 */\nclass Time {\n\n\tconstructor() {\n\t\tthis.ticks = [];\n\t\tthis.tweens = [];\n\t\tthis.isStop = false;\n\t\tTIME.addBody(this);\n\t}\n\n\n\t/**\n\t * 该物体灭亡\n\t */\n\tdestory() {\n\t\tTIME.removeBody(this);\n\t}\n\n\t/** \n\t * 帧更新\n\t * @param timegap 与上一帧的时间间隔\n\t */\n\taddTick(fn) {\n\t\tvar tick = {'fn': fn.bind(this)};\n\n\t\ttick.isStop = false;\n\t\tthis.ticks.push(tick);\n\t\treturn tick;\n\t}\n\n\tremoveTick(tick) {\n\t\tif (!tick) {\n\t\t\t// remove all\n\t\t\tthis.ticks = [];\n\t\t\treturn;\n\t\t}\n\n\t\tvar index = this.ticks.indexOf(tick);\n\n\t\tif (index !== -1) {\n\t\t\tthis.ticks.splice(index, 1);\n\t\t}\n\t}\n\n\t/** \n\t * tween\n\t */\n\taddTween(tween) {\n\t\tthis.tweens.push(tween);\n\t}\n\n\tremoveTween(tween) {\n\t\tif (!tween) {\n\t\t\t// remove all\n\t\t\tthis.tween = [];\n\t\t\treturn;\n\t\t}\n\n\t\tvar index = this.tweens.indexOf(tween);\n\n\t\tif (index !== -1) {\n\t\t\t//tween.stop();\n\t\t\tthis.tweens.splice(index, 1);\n\t\t}\n\t}\n\n\t// stop 暂停时间\n\tstop() {\n\t\tthis.isStop = true;\n\t\tthis.tweens.forEach(function(tween) {\n\t\t\ttween.stop();\n\t\t});\n\t}\n\n\tstart() {\n\t\tthis.isStop = false;\n\t\tthis.tweens.forEach(function(tween) {\n\t\t\ttween.start();\n\t\t});\n\t}\n}\n\nwindow.Time = Time;\n\nfor (let i = 0; i < 10000; i+=100) {\n\twindow['TIME_' + i] = window.env === 'develop' ? 0 : i;\n}\n\n\nexport {TIME, Time, TWEEN};\n\n\n\n\n// WEBPACK FOOTER //\n// ./time.js","/**\n * Tween.js - Licensed under the MIT license\n * https://github.com/tweenjs/tween.js\n * ----------------------------------------------\n *\n * See https://github.com/tweenjs/tween.js/graphs/contributors for the full list of contributors.\n * Thank you all, you're awesome!\n */\n\nvar TWEEN = TWEEN || (function () {\n\n\tvar _tweens = [];\n\n\treturn {\n\n\t\tgetAll: function () {\n\n\t\t\treturn _tweens;\n\n\t\t},\n\n\t\tremoveAll: function () {\n\n\t\t\t_tweens = [];\n\n\t\t},\n\n\t\tadd: function (tween) {\n\n\t\t\t_tweens.push(tween);\n\n\t\t},\n\n\t\tremove: function (tween) {\n\n\t\t\tvar i = _tweens.indexOf(tween);\n\n\t\t\tif (i !== -1) {\n\t\t\t\t_tweens.splice(i, 1);\n\t\t\t}\n\n\t\t},\n\n\t\tupdate: function (time, preserve) {\n\n\t\t\tif (_tweens.length === 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar i = 0;\n\n\t\t\ttime = time !== undefined ? time : TWEEN.now();\n\n\t\t\twhile (i < _tweens.length) {\n\n\t\t\t\tif (_tweens[i].update(time) || preserve) {\n\t\t\t\t\ti++;\n\t\t\t\t} else {\n\t\t\t\t\t_tweens.splice(i, 1);\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn true;\n\n\t\t}\n\t};\n\n})();\n\n\n// Include a performance.now polyfill.\n// In node.js, use process.hrtime.\nif (typeof (window) === 'undefined' && typeof (process) !== 'undefined') {\n\tTWEEN.now = function () {\n\t\tvar time = process.hrtime();\n\n\t\t// Convert [seconds, nanoseconds] to milliseconds.\n\t\treturn time[0] * 1000 + time[1] / 1000000;\n\t};\n}\n// In a browser, use window.performance.now if it is available.\nelse if (typeof (window) !== 'undefined' &&\n         window.performance !== undefined &&\n\t\t window.performance.now !== undefined) {\n\t// This must be bound, because directly assigning this function\n\t// leads to an invocation exception in Chrome.\n\tTWEEN.now = window.performance.now.bind(window.performance);\n}\n// Use Date.now if it is available.\nelse if (Date.now !== undefined) {\n\tTWEEN.now = Date.now;\n}\n// Otherwise, use 'new Date().getTime()'.\nelse {\n\tTWEEN.now = function () {\n\t\treturn new Date().getTime();\n\t};\n}\n\n\nTWEEN.Tween = function (object) {\n\n\tvar _object = object;\n\tvar _valuesStart = {};\n\tvar _valuesEnd = {};\n\tvar _valuesStartRepeat = {};\n\tvar _duration = 1000;\n\tvar _repeat = 0;\n\tvar _repeatDelayTime;\n\tvar _yoyo = false;\n\tvar _isPlaying = false;\n\tvar _reversed = false;\n\tvar _delayTime = 0;\n\tvar _startTime = null;\n\tvar _easingFunction = TWEEN.Easing.Linear.None;\n\tvar _interpolationFunction = TWEEN.Interpolation.Linear;\n\tvar _chainedTweens = [];\n\tvar _onStartCallback = null;\n\tvar _onStartCallbackFired = false;\n\tvar _onUpdateCallback = null;\n\tvar _onCompleteCallback = null;\n\tvar _onStopCallback = null;\n\n\tthis.to = function (properties, duration) {\n\n\t\t_valuesEnd = properties;\n\n\t\tif (duration !== undefined) {\n\t\t\t_duration = duration;\n\t\t}\n\n\t\treturn this;\n\n\t};\n\n\tthis.start = function (time) {\n\n\t\tTWEEN.add(this);\n\n\t\t_isPlaying = true;\n\n\t\t_onStartCallbackFired = false;\n\n\t\t_startTime = time !== undefined ? time : TWEEN.now();\n\t\t_startTime += _delayTime;\n\n\t\tfor (var property in _valuesEnd) {\n\n\t\t\t// Check if an Array was provided as property value\n\t\t\tif (_valuesEnd[property] instanceof Array) {\n\n\t\t\t\tif (_valuesEnd[property].length === 0) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Create a local copy of the Array with the start value at the front\n\t\t\t\t_valuesEnd[property] = [_object[property]].concat(_valuesEnd[property]);\n\n\t\t\t}\n\n\t\t\t// If `to()` specifies a property that doesn't exist in the source object,\n\t\t\t// we should not set that property in the object\n\t\t\tif (_object[property] === undefined) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Save the starting value.\n\t\t\t_valuesStart[property] = _object[property];\n\n\t\t\tif ((_valuesStart[property] instanceof Array) === false) {\n\t\t\t\t_valuesStart[property] *= 1.0; // Ensures we're using numbers, not strings\n\t\t\t}\n\n\t\t\t_valuesStartRepeat[property] = _valuesStart[property] || 0;\n\n\t\t}\n\n\t\treturn this;\n\n\t};\n\n\tthis.stop = function () {\n\n\t\tif (!_isPlaying) {\n\t\t\treturn this;\n\t\t}\n\n\t\tTWEEN.remove(this);\n\t\t_isPlaying = false;\n\n\t\tif (_onStopCallback !== null) {\n\t\t\t_onStopCallback.call(_object, _object);\n\t\t}\n\n\t\tthis.stopChainedTweens();\n\t\treturn this;\n\n\t};\n\n\tthis.end = function () {\n\n\t\tthis.update(_startTime + _duration);\n\t\treturn this;\n\n\t};\n\n\tthis.stopChainedTweens = function () {\n\n\t\tfor (var i = 0, numChainedTweens = _chainedTweens.length; i < numChainedTweens; i++) {\n\t\t\t_chainedTweens[i].stop();\n\t\t}\n\n\t};\n\n\tthis.delay = function (amount) {\n\n\t\t_delayTime = amount;\n\t\treturn this;\n\n\t};\n\n\tthis.repeat = function (times) {\n\n\t\t_repeat = times;\n\t\treturn this;\n\n\t};\n\n\tthis.repeatDelay = function (amount) {\n\n\t\t_repeatDelayTime = amount;\n\t\treturn this;\n\n\t};\n\n\tthis.yoyo = function (yoyo) {\n\n\t\t_yoyo = yoyo;\n\t\treturn this;\n\n\t};\n\n\n\tthis.easing = function (easing) {\n\n\t\t_easingFunction = easing;\n\t\treturn this;\n\n\t};\n\n\tthis.interpolation = function (interpolation) {\n\n\t\t_interpolationFunction = interpolation;\n\t\treturn this;\n\n\t};\n\n\tthis.chain = function () {\n\n\t\t_chainedTweens = arguments;\n\t\treturn this;\n\n\t};\n\n\tthis.onStart = function (callback) {\n\n\t\t_onStartCallback = callback;\n\t\treturn this;\n\n\t};\n\n\tthis.onUpdate = function (callback) {\n\n\t\t_onUpdateCallback = callback;\n\t\treturn this;\n\n\t};\n\n\tthis.onComplete = function (callback) {\n\n\t\t_onCompleteCallback = callback;\n\t\treturn this;\n\n\t};\n\n\tthis.onStop = function (callback) {\n\n\t\t_onStopCallback = callback;\n\t\treturn this;\n\n\t};\n\n\tthis.update = function (time) {\n\n\t\tvar property;\n\t\tvar elapsed;\n\t\tvar value;\n\n\t\tif (time < _startTime) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (_onStartCallbackFired === false) {\n\n\t\t\tif (_onStartCallback !== null) {\n\t\t\t\t_onStartCallback.call(_object, _object);\n\t\t\t}\n\n\t\t\t_onStartCallbackFired = true;\n\t\t}\n\n\t\telapsed = (time - _startTime) / _duration;\n\t\telapsed = elapsed > 1 ? 1 : elapsed;\n\n\t\tvalue = _easingFunction(elapsed);\n\n\t\tfor (property in _valuesEnd) {\n\n\t\t\t// Don't update properties that do not exist in the source object\n\t\t\tif (_valuesStart[property] === undefined) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar start = _valuesStart[property] || 0;\n\t\t\tvar end = _valuesEnd[property];\n\n\t\t\tif (end instanceof Array) {\n\n\t\t\t\t_object[property] = _interpolationFunction(end, value);\n\n\t\t\t} else {\n\n\t\t\t\t// Parses relative end values with start as base (e.g.: +10, -3)\n\t\t\t\tif (typeof (end) === 'string') {\n\n\t\t\t\t\tif (end.charAt(0) === '+' || end.charAt(0) === '-') {\n\t\t\t\t\t\tend = start + parseFloat(end);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tend = parseFloat(end);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Protect against non numeric properties.\n\t\t\t\tif (typeof (end) === 'number') {\n\t\t\t\t\t_object[property] = start + (end - start) * value;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif (_onUpdateCallback !== null) {\n\t\t\t_onUpdateCallback.call(_object, value);\n\t\t}\n\n\t\tif (elapsed === 1) {\n\n\t\t\tif (_repeat > 0) {\n\n\t\t\t\tif (isFinite(_repeat)) {\n\t\t\t\t\t_repeat--;\n\t\t\t\t}\n\n\t\t\t\t// Reassign starting values, restart by making startTime = now\n\t\t\t\tfor (property in _valuesStartRepeat) {\n\n\t\t\t\t\tif (typeof (_valuesEnd[property]) === 'string') {\n\t\t\t\t\t\t_valuesStartRepeat[property] = _valuesStartRepeat[property] + parseFloat(_valuesEnd[property]);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (_yoyo) {\n\t\t\t\t\t\tvar tmp = _valuesStartRepeat[property];\n\n\t\t\t\t\t\t_valuesStartRepeat[property] = _valuesEnd[property];\n\t\t\t\t\t\t_valuesEnd[property] = tmp;\n\t\t\t\t\t}\n\n\t\t\t\t\t_valuesStart[property] = _valuesStartRepeat[property];\n\n\t\t\t\t}\n\n\t\t\t\tif (_yoyo) {\n\t\t\t\t\t_reversed = !_reversed;\n\t\t\t\t}\n\n\t\t\t\tif (_repeatDelayTime !== undefined) {\n\t\t\t\t\t_startTime = time + _repeatDelayTime;\n\t\t\t\t} else {\n\t\t\t\t\t_startTime = time + _delayTime;\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\n\t\t\t} else {\n\n\t\t\t\tif (_onCompleteCallback !== null) {\n\n\t\t\t\t\t_onCompleteCallback.call(_object, _object);\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0, numChainedTweens = _chainedTweens.length; i < numChainedTweens; i++) {\n\t\t\t\t\t// Make the chained tweens start exactly at the time they should,\n\t\t\t\t\t// even if the `update()` method was called way past the duration of the tween\n\t\t\t\t\t_chainedTweens[i].start(_startTime + _duration);\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t};\n\n};\n\n\nTWEEN.Easing = {\n\n\tLinear: {\n\n\t\tNone: function (k) {\n\n\t\t\treturn k;\n\n\t\t}\n\n\t},\n\n\tQuadratic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn k * (2 - k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k;\n\t\t\t}\n\n\t\t\treturn - 0.5 * (--k * (k - 2) - 1);\n\n\t\t}\n\n\t},\n\n\tCubic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn --k * k * k + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k;\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * k + 2);\n\n\t\t}\n\n\t},\n\n\tQuartic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn 1 - (--k * k * k * k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k * k;\n\t\t\t}\n\n\t\t\treturn - 0.5 * ((k -= 2) * k * k * k - 2);\n\n\t\t}\n\n\t},\n\n\tQuintic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn --k * k * k * k * k + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k * k * k;\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * k * k * k + 2);\n\n\t\t}\n\n\t},\n\n\tSinusoidal: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - Math.cos(k * Math.PI / 2);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn Math.sin(k * Math.PI / 2);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\treturn 0.5 * (1 - Math.cos(Math.PI * k));\n\n\t\t}\n\n\t},\n\n\tExponential: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k === 0 ? 0 : Math.pow(1024, k - 1);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn k === 1 ? 1 : 1 - Math.pow(2, - 10 * k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * Math.pow(1024, k - 1);\n\t\t\t}\n\n\t\t\treturn 0.5 * (- Math.pow(2, - 10 * (k - 1)) + 2);\n\n\t\t}\n\n\t},\n\n\tCircular: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - Math.sqrt(1 - k * k);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn Math.sqrt(1 - (--k * k));\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn - 0.5 * (Math.sqrt(1 - k * k) - 1);\n\t\t\t}\n\n\t\t\treturn 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\n\n\t\t}\n\n\t},\n\n\tElastic: {\n\n\t\tIn: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\treturn -Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\treturn Math.pow(2, -10 * k) * Math.sin((k - 0.1) * 5 * Math.PI) + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tk *= 2;\n\n\t\t\tif (k < 1) {\n\t\t\t\treturn -0.5 * Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n\t\t\t}\n\n\t\t\treturn 0.5 * Math.pow(2, -10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI) + 1;\n\n\t\t}\n\n\t},\n\n\tBack: {\n\n\t\tIn: function (k) {\n\n\t\t\tvar s = 1.70158;\n\n\t\t\treturn k * k * ((s + 1) * k - s);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tvar s = 1.70158;\n\n\t\t\treturn --k * k * ((s + 1) * k + s) + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tvar s = 1.70158 * 1.525;\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * (k * k * ((s + 1) * k - s));\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n\n\t\t}\n\n\t},\n\n\tBounce: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - TWEEN.Easing.Bounce.Out(1 - k);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tif (k < (1 / 2.75)) {\n\t\t\t\treturn 7.5625 * k * k;\n\t\t\t} else if (k < (2 / 2.75)) {\n\t\t\t\treturn 7.5625 * (k -= (1.5 / 2.75)) * k + 0.75;\n\t\t\t} else if (k < (2.5 / 2.75)) {\n\t\t\t\treturn 7.5625 * (k -= (2.25 / 2.75)) * k + 0.9375;\n\t\t\t} else {\n\t\t\t\treturn 7.5625 * (k -= (2.625 / 2.75)) * k + 0.984375;\n\t\t\t}\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k < 0.5) {\n\t\t\t\treturn TWEEN.Easing.Bounce.In(k * 2) * 0.5;\n\t\t\t}\n\n\t\t\treturn TWEEN.Easing.Bounce.Out(k * 2 - 1) * 0.5 + 0.5;\n\n\t\t}\n\n\t}\n\n};\n\nTWEEN.Interpolation = {\n\n\tLinear: function (v, k) {\n\n\t\tvar m = v.length - 1;\n\t\tvar f = m * k;\n\t\tvar i = Math.floor(f);\n\t\tvar fn = TWEEN.Interpolation.Utils.Linear;\n\n\t\tif (k < 0) {\n\t\t\treturn fn(v[0], v[1], f);\n\t\t}\n\n\t\tif (k > 1) {\n\t\t\treturn fn(v[m], v[m - 1], m - f);\n\t\t}\n\n\t\treturn fn(v[i], v[i + 1 > m ? m : i + 1], f - i);\n\n\t},\n\n\tBezier: function (v, k) {\n\n\t\tvar b = 0;\n\t\tvar n = v.length - 1;\n\t\tvar pw = Math.pow;\n\t\tvar bn = TWEEN.Interpolation.Utils.Bernstein;\n\n\t\tfor (var i = 0; i <= n; i++) {\n\t\t\tb += pw(1 - k, n - i) * pw(k, i) * v[i] * bn(n, i);\n\t\t}\n\n\t\treturn b;\n\n\t},\n\n\tCatmullRom: function (v, k) {\n\n\t\tvar m = v.length - 1;\n\t\tvar f = m * k;\n\t\tvar i = Math.floor(f);\n\t\tvar fn = TWEEN.Interpolation.Utils.CatmullRom;\n\n\t\tif (v[0] === v[m]) {\n\n\t\t\tif (k < 0) {\n\t\t\t\ti = Math.floor(f = m * (1 + k));\n\t\t\t}\n\n\t\t\treturn fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i);\n\n\t\t} else {\n\n\t\t\tif (k < 0) {\n\t\t\t\treturn v[0] - (fn(v[0], v[0], v[1], v[1], -f) - v[0]);\n\t\t\t}\n\n\t\t\tif (k > 1) {\n\t\t\t\treturn v[m] - (fn(v[m], v[m], v[m - 1], v[m - 1], f - m) - v[m]);\n\t\t\t}\n\n\t\t\treturn fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i);\n\n\t\t}\n\n\t},\n\n\tUtils: {\n\n\t\tLinear: function (p0, p1, t) {\n\n\t\t\treturn (p1 - p0) * t + p0;\n\n\t\t},\n\n\t\tBernstein: function (n, i) {\n\n\t\t\tvar fc = TWEEN.Interpolation.Utils.Factorial;\n\n\t\t\treturn fc(n) / fc(i) / fc(n - i);\n\n\t\t},\n\n\t\tFactorial: (function () {\n\n\t\t\tvar a = [1];\n\n\t\t\treturn function (n) {\n\n\t\t\t\tvar s = 1;\n\n\t\t\t\tif (a[n]) {\n\t\t\t\t\treturn a[n];\n\t\t\t\t}\n\n\t\t\t\tfor (var i = n; i > 1; i--) {\n\t\t\t\t\ts *= i;\n\t\t\t\t}\n\n\t\t\t\ta[n] = s;\n\t\t\t\treturn s;\n\n\t\t\t};\n\n\t\t})(),\n\n\t\tCatmullRom: function (p0, p1, p2, p3, t) {\n\n\t\t\tvar v0 = (p2 - p0) * 0.5;\n\t\t\tvar v1 = (p3 - p1) * 0.5;\n\t\t\tvar t2 = t * t;\n\t\t\tvar t3 = t * t2;\n\n\t\t\treturn (2 * p1 - 2 * p2 + v0 + v1) * t3 + (- 3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;\n\n\t\t}\n\n\t}\n\n};\n\n// UMD (Universal Module Definition)\n(function (root) {\n\n\tif (typeof define === 'function' && define.amd) {\n\n\t\t// AMD\n\t\tdefine([], function () {\n\t\t\treturn TWEEN;\n\t\t});\n\n\t} else if (typeof module !== 'undefined' && typeof exports === 'object') {\n\n\t\t// Node.js\n\t\tmodule.exports = TWEEN;\n\n\t} else if (root !== undefined) {\n\n\t\t// Global variable\n\t\troot.TWEEN = TWEEN;\n\n\t}\n\n})(this);\n\n\n\n// WEBPACK FOOTER //\n// ./~/tween.js/src/Tween.js","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n// WEBPACK FOOTER //\n// ./~/process/browser.js","/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar Stats = function () {\n\n\tvar mode = 0;\n\n\tvar container = document.createElement( 'div' );\n\tcontainer.style.cssText = 'position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000';\n\tcontainer.addEventListener( 'click', function ( event ) {\n\n\t\tevent.preventDefault();\n\t\tshowPanel( ++ mode % container.children.length );\n\n\t}, false );\n\n\t//\n\n\tfunction addPanel( panel ) {\n\n\t\tcontainer.appendChild( panel.dom );\n\t\treturn panel;\n\n\t}\n\n\tfunction showPanel( id ) {\n\n\t\tfor ( var i = 0; i < container.children.length; i ++ ) {\n\n\t\t\tcontainer.children[ i ].style.display = i === id ? 'block' : 'none';\n\n\t\t}\n\n\t\tmode = id;\n\n\t}\n\n\t//\n\n\tvar beginTime = ( performance || Date ).now(), prevTime = beginTime, frames = 0;\n\n\tvar fpsPanel = addPanel( new Stats.Panel( 'FPS', '#0ff', '#002' ) );\n\tvar msPanel = addPanel( new Stats.Panel( 'MS', '#0f0', '#020' ) );\n\n\tif ( self.performance && self.performance.memory ) {\n\n\t\tvar memPanel = addPanel( new Stats.Panel( 'MB', '#f08', '#201' ) );\n\n\t}\n\n\tshowPanel( 0 );\n\n\treturn {\n\n\t\tREVISION: 16,\n\n\t\tdom: container,\n\n\t\taddPanel: addPanel,\n\t\tshowPanel: showPanel,\n\n\t\tbegin: function () {\n\n\t\t\tbeginTime = ( performance || Date ).now();\n\n\t\t},\n\n\t\tend: function () {\n\n\t\t\tframes ++;\n\n\t\t\tvar time = ( performance || Date ).now();\n\n\t\t\tmsPanel.update( time - beginTime, 200 );\n\n\t\t\tif ( time > prevTime + 1000 ) {\n\n\t\t\t\tfpsPanel.update( ( frames * 1000 ) / ( time - prevTime ), 100 );\n\n\t\t\t\tprevTime = time;\n\t\t\t\tframes = 0;\n\n\t\t\t\tif ( memPanel ) {\n\n\t\t\t\t\tvar memory = performance.memory;\n\t\t\t\t\tmemPanel.update( memory.usedJSHeapSize / 1048576, memory.jsHeapSizeLimit / 1048576 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn time;\n\n\t\t},\n\n\t\tupdate: function () {\n\n\t\t\tbeginTime = this.end();\n\n\t\t},\n\n\t\t// Backwards Compatibility\n\n\t\tdomElement: container,\n\t\tsetMode: showPanel\n\n\t};\n\n};\n\nStats.Panel = function ( name, fg, bg ) {\n\n\tvar min = Infinity, max = 0, round = Math.round;\n\tvar PR = round( window.devicePixelRatio || 1 );\n\n\tvar WIDTH = 80 * PR, HEIGHT = 48 * PR,\n\t\t\tTEXT_X = 3 * PR, TEXT_Y = 2 * PR,\n\t\t\tGRAPH_X = 3 * PR, GRAPH_Y = 15 * PR,\n\t\t\tGRAPH_WIDTH = 74 * PR, GRAPH_HEIGHT = 30 * PR;\n\n\tvar canvas = document.createElement( 'canvas' );\n\tcanvas.width = WIDTH;\n\tcanvas.height = HEIGHT;\n\tcanvas.style.cssText = 'width:80px;height:48px';\n\n\tvar context = canvas.getContext( '2d' );\n\tcontext.font = 'bold ' + ( 9 * PR ) + 'px Helvetica,Arial,sans-serif';\n\tcontext.textBaseline = 'top';\n\n\tcontext.fillStyle = bg;\n\tcontext.fillRect( 0, 0, WIDTH, HEIGHT );\n\n\tcontext.fillStyle = fg;\n\tcontext.fillText( name, TEXT_X, TEXT_Y );\n\tcontext.fillRect( GRAPH_X, GRAPH_Y, GRAPH_WIDTH, GRAPH_HEIGHT );\n\n\tcontext.fillStyle = bg;\n\tcontext.globalAlpha = 0.9;\n\tcontext.fillRect( GRAPH_X, GRAPH_Y, GRAPH_WIDTH, GRAPH_HEIGHT );\n\n\treturn {\n\n\t\tdom: canvas,\n\n\t\tupdate: function ( value, maxValue ) {\n\n\t\t\tmin = Math.min( min, value );\n\t\t\tmax = Math.max( max, value );\n\n\t\t\tcontext.fillStyle = bg;\n\t\t\tcontext.globalAlpha = 1;\n\t\t\tcontext.fillRect( 0, 0, WIDTH, GRAPH_Y );\n\t\t\tcontext.fillStyle = fg;\n\t\t\tcontext.fillText( round( value ) + ' ' + name + ' (' + round( min ) + '-' + round( max ) + ')', TEXT_X, TEXT_Y );\n\n\t\t\tcontext.drawImage( canvas, GRAPH_X + PR, GRAPH_Y, GRAPH_WIDTH - PR, GRAPH_HEIGHT, GRAPH_X, GRAPH_Y, GRAPH_WIDTH - PR, GRAPH_HEIGHT );\n\n\t\t\tcontext.fillRect( GRAPH_X + GRAPH_WIDTH - PR, GRAPH_Y, PR, GRAPH_HEIGHT );\n\n\t\t\tcontext.fillStyle = bg;\n\t\t\tcontext.globalAlpha = 0.9;\n\t\t\tcontext.fillRect( GRAPH_X + GRAPH_WIDTH - PR, GRAPH_Y, PR, round( ( 1 - ( value / maxValue ) ) * GRAPH_HEIGHT ) );\n\n\t\t}\n\n\t};\n\n};\n\nexport { Stats as default };\n\n\n// WEBPACK FOOTER //\n// ./stats.js"],"sourceRoot":""}