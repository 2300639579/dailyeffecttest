{"version":3,"sources":["webpack:///webpack/bootstrap bd5123042f89d9da8f5b","webpack:///./index.js","webpack:///./vec2.js","webpack:///./time.js","webpack:///./~/tween.js/src/Tween.js","webpack:///./~/process/browser.js","webpack:///./stats.js"],"names":["stats","showPanel","document","body","appendChild","dom","obstruction","bigRaduis","smallRaduis","Ball","options","defaults","initPosition","radius","initV","key","position","clone","v","a","delta","second","add","multiplyScalar","sub","setLength","ctx","opacity","blur","Math","min","save","globalAlpha","fillStyle","beginPath","arc","x","y","PI","fill","restore","Connection","ball1","ball2","maxDis","isDie","isSeparate","subVectors","length","c1","r1","c2","r2","h","max","pi2","c2ToC1","d","u1","u2","getVec2","radians","cos","sin","abs","acos","angle1","angle","angle2","angle1a","angle1b","angle2a","angle2b","p1a","p1b","p2a","p2b","totalr","d2","handle1","handle2","handle3","handle4","keyPoints","calPoints","globalCompositeOperation","moveTo","bezierCurveTo","lineTo","BreakBall","maxOpacity","bornPos","bornA","bornADur","breakTime","breakA","breakADur","destoryDur","status","timePass","separateTime","ball1Radius","random","ball2Radius","connection","break","die","update","draw","breakA1","breakA2","Painter","cvs","width","height","getContext","tick","breakBalls","offCvs","createElement","offCtx","grd","createLinearGradient","i","addColorStop","fillRect","maxBallCount","addTick","aniTime","push","clearRect","splice","drawImage","painter","start","Vector2","Object","defineProperties","prototype","get","set","value","isVector2","setScalar","scalar","setX","setY","setComponent","index","Error","getComponent","constructor","copy","w","undefined","console","warn","addVectors","addScalar","s","b","addScaledVector","subScalar","multiply","divide","divideScalar","clamp","clampScalar","minVal","maxVal","clampLength","floor","ceil","round","roundToZero","negate","dot","lengthSq","sqrt","lengthManhattan","normalize","atan2","distanceTo","distanceToSquared","dx","dy","distanceToManhattan","lerp","alpha","lerpVectors","v1","v2","equals","fromArray","array","offset","toArray","fromBufferAttribute","attribute","getX","getY","rotateAround","center","c","TIME","bodys","stop","t","addBody","timeBody","removeBody","indexOf","now","Date","getTime","last","handleFrame","requestAnimationFrame","cancelAnimationFrame","forEach","isStop","ticks","fn","window","Time","tweens","bind","tween","env","TWEEN","_tweens","getAll","removeAll","remove","time","preserve","process","hrtime","performance","Tween","object","_object","_valuesStart","_valuesEnd","_valuesStartRepeat","_duration","_repeat","_repeatDelayTime","_yoyo","_isPlaying","_reversed","_delayTime","_startTime","_easingFunction","Easing","Linear","None","_interpolationFunction","Interpolation","_chainedTweens","_onStartCallback","_onStartCallbackFired","_onUpdateCallback","_onCompleteCallback","_onStopCallback","to","properties","duration","property","Array","concat","call","stopChainedTweens","end","numChainedTweens","delay","amount","repeat","times","repeatDelay","yoyo","easing","interpolation","chain","arguments","onStart","callback","onUpdate","onComplete","onStop","elapsed","charAt","parseFloat","isFinite","tmp","k","Quadratic","In","Out","InOut","Cubic","Quartic","Quintic","Sinusoidal","Exponential","pow","Circular","Elastic","Back","Bounce","m","f","Utils","Bezier","n","pw","bn","Bernstein","CatmullRom","p0","p1","fc","Factorial","p2","p3","v0","t2","t3","root","define","module","exports","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","setTimeout","e","clearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","timeout","len","run","nextTick","args","Item","apply","title","browser","argv","version","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","Stats","mode","container","style","cssText","addEventListener","event","preventDefault","children","addPanel","panel","id","display","beginTime","prevTime","frames","fpsPanel","Panel","msPanel","self","memory","memPanel","REVISION","begin","usedJSHeapSize","jsHeapSizeLimit","domElement","setMode","fg","bg","Infinity","PR","devicePixelRatio","WIDTH","HEIGHT","TEXT_X","TEXT_Y","GRAPH_X","GRAPH_Y","GRAPH_WIDTH","GRAPH_HEIGHT","canvas","context","font","textBaseline","fillText","maxValue","default"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap bd5123042f89d9da8f5b","import {Vector2 as Vec2} from './vec2.js';\nimport {TIME, Time} from './time.js';\n\nimport Stats from './stats.js';\nvar stats = new Stats();\nstats.showPanel( 0 ); // 0: fps, 1: ms, 2: mb, 3+: custom\ndocument.body.appendChild( stats.dom );\n\nlet obstruction = 0.01; // 空气阻力\nlet bigRaduis = 15;\nlet smallRaduis = 10;\n\nclass Ball {\n    constructor(options) {\n        let defaults = {\n            initPosition: new Vec2(),\n            radius: 15,\n            initV: new Vec2, // 初始速度\n        };\n\n        for (let key in defaults) {\n            options[key] = options[key] || defaults[key];\n        }\n        this.position = options.initPosition.clone();\n        this.v = options.initV;\n        this.a = new Vec2; // 加速度\n\n        this.options = options;\n    }\n\n    update(delta) {\n\n        let second = delta * 0.001;\n        let options = this.options;\n\n        this.v.add(this.a.clone().multiplyScalar(second));\n        \n        this.v.sub(this.v.clone().setLength(obstruction * second)); // 阻力减速\n        this.position.add(this.v.clone().multiplyScalar(second));\n        // console.log(this.position);\n    }\n\n    draw(ctx, opacity, blur) {\n\n        let options = this.options;\n\n        opacity = Math.min(opacity, 1);\n\n        ctx.save();\n\n        // ctx.shadowColor = 'red';\n        // ctx.shadowBlur = blur;\n        ctx.globalAlpha = opacity;\n        ctx.fillStyle = 'red';\n\n        ctx.beginPath();\n        ctx.arc(this.position.x, this.position.y, options.radius, 0, Math.PI * 2);\n        ctx.fill();\n\n\n        // 中间透明\n        \n        /*if (typeof this.isBreakBall) {\n            let grd = ctx.createRadialGradient(this.position.x, this.position.y, 0, this.position.x, this.position.y, options.radius * 0.8);\n            grd.addColorStop(0, 'rgba(255,0,255,0.2)');\n            grd.addColorStop(1, 'rgba(255,0,255,0)');\n            \n            ctx.globalAlpha = (1 - opacity) * 0.5;\n            ctx.globalCompositeOperation = 'destination-out';\n            ctx.fillStyle = grd;\n            ctx.beginPath();\n            ctx.arc(this.position.x, this.position.y, options.radius, 0, Math.PI * 2);\n            ctx.fill();\n        }*/\n\n        ctx.restore();\n    }\n\n    die() {\n        //\n    }\n}\n\nclass Connection {\n    constructor(ball1, ball2) {\n        this.maxDis = (ball1.options.radius + ball2.options.radius) * 1.5;\n\n        this.isDie = false;\n\n        this.isSeparate = false;\n        this.ball1 = ball1;\n        this.ball2 = ball2;\n\n    }\n\n    update() {\n        this.isSeparate = this.isSeparate || (new Vec2().subVectors(this.ball1.position, this.ball2.position)).length() > this.ball1.options.radius + this.ball2.options.radius + 10;\n        // console.log(this.isSeparate);\n    }\n\n    calPoints(c1, r1, c2, r2, v, h, max) {\n        var pi2 = Math.PI / 2;\n        var c2ToC1 = new Vec2().subVectors(c1, c2);\n        var d = c2ToC1.length();\n        var u1, u2;\n\n        function getVec2(radians, length) {\n            return new Vec2(-Math.cos(radians), -Math.sin(radians)).setLength(length);\n        }\n\n        if (r1 == 0 || r2 == 0)\n            return;\n        if (d > max || d <= Math.abs(r1 - r2)) {\n            return;\n        } else if (d < r1 + r2) { // case circles are overlapping\n            u1 = Math.acos((r1 * r1 + d * d - r2 * r2) /\n                    (2 * r1 * d));\n            u2 = Math.acos((r2 * r2 + d * d - r1 * r1) /\n                    (2 * r2 * d));\n        } else {\n            u1 = 0;\n            u2 = 0;\n        }\n\n        var angle1 = c2ToC1.angle();\n        var angle2 = Math.acos((r1 - r2) / d);\n        var angle1a = angle1 + u1 + (angle2 - u1) * v;\n        var angle1b = angle1 - u1 - (angle2 - u1) * v;\n        var angle2a = angle1 + Math.PI - u2 - (Math.PI - u2 - angle2) * v;\n        var angle2b = angle1 - Math.PI + u2 + (Math.PI - u2 - angle2) * v;\n        var p1a = c1.clone().add(getVec2(angle1a, r1));\n        var p1b = c1.clone().add(getVec2(angle1b, r1));\n        var p2a = c2.clone().add(getVec2(angle2a, r2));\n        var p2b = c2.clone().add(getVec2(angle2b, r2));\n\n        // define handle length by the distance between\n        // both ends of the curve to draw\n        var totalr = (r1 + r2);\n        var d2 = Math.min(v * h, new Vec2().subVectors(p1a, p2a).length() / totalr);\n\n        // case circles are overlapping:\n        d2 *= Math.min(1, d * 2 / (r1 + r2));\n\n        r1 *= d2;\n        r2 *= d2;\n\n        let handle1 = p1a.clone().add(getVec2(angle1a - pi2, r1));\n        let handle2 = p2a.clone().add(getVec2(angle2a + pi2, r2));\n        let handle3 = p2b.clone().add(getVec2(angle2b - pi2, r2));\n        let handle4 = p1b.clone().add(getVec2(angle1b + pi2, r1));\n        return [p1a, p2a, p2b, p1b, handle1, handle2, handle3, handle4];\n    }\n\n    draw(ctx, opacity, blur) {\n        let keyPoints = this.calPoints(\n            this.ball1.position.clone(), \n            this.ball1.options.radius,\n            this.ball2.position.clone(), \n            this.ball2.options.radius, \n            0.3,\n            5.4,\n            this.maxDis\n        );\n\n        ctx.save();\n        if (keyPoints) {\n            // ctx.shadowColor = 'red';\n            // ctx.shadowBlur = blur;\n            ctx.globalAlpha = opacity;\n            ctx.globalCompositeOperation = 'source-over';\n            ctx.fillStyle = 'red';\n            ctx.beginPath();\n            ctx.moveTo(keyPoints[0].x, keyPoints[0].y);\n            ctx.bezierCurveTo(keyPoints[4].x, keyPoints[4].y, keyPoints[5].x,keyPoints[5].y, keyPoints[1].x, keyPoints[1].y);\n            ctx.lineTo(keyPoints[2].x, keyPoints[2].y);\n            ctx.bezierCurveTo(keyPoints[6].x, keyPoints[6].y, keyPoints[7].x,keyPoints[7].y, keyPoints[3].x, keyPoints[3].y);\n            ctx.lineTo(keyPoints[0].x, keyPoints[0].y);\n\n            ctx.fill();\n        }\n        ctx.restore();\n    }\n\n    die() {\n        this.isDie = true;\n        this.ball1 = null;\n        this.ball2 = null;            \n    }\n}\n\nclass BreakBall {\n    constructor(options) {\n        let defaults = {\n            maxOpacity: 1,\n            blur: 0,\n\n            bornPos: new Vec2(),\n            bornA: new Vec2(5, 5), // 出生加速\n            bornADur: 1000, // 出生加速耗时\n\n            breakTime: 2000, // 分裂时间\n            breakA: 5, // 标量，方向在运行的时候确定\n            breakADur: 1000, // 分裂加速耗时\n            destoryDur: 1000, // 消亡耗时\n        };\n\n        for (let key in defaults) {\n            options[key] = options[key] || defaults[key];\n        }\n        this.options = options;\n\n        // 0 born\n        // 1 a done\n        // 2 break\n        // 3 break a done\n        // 4 die\n        this.status = 0; \n\n\n        this.timePass = 0;\n        this.separateTime = 0;\n        this.opacity = 1;\n        this.blur = options.blur;\n\n\n        this.ball1Radius = bigRaduis * (1.2 - Math.random() * 0.4);\n        this.ball2Radius = smallRaduis * (1.2 - Math.random() * 0.4);\n\n        this.ball1 = new Ball({\n            initPosition: options.bornPos.clone(),\n            radius: this.ball1Radius,\n            initV: new Vec2, // 初始速度\n        });\n        this.ball1.a = options.bornA;\n        this.ball2;\n        this.connection;\n    }\n\n    update(delta) {\n        let options = this.options;\n        let second = delta / 1000;\n        let opacity = 1;\n\n        this.timePass += delta;\n\n        switch (this.status) {\n            case 0: \n                if (this.timePass < options.bornADur) {\n                    opacity = this.timePass / options.bornADur;\n                } else {\n                    this.status = 1;\n                    this.ball1.a = new Vec2;\n                }    \n                break;\n            case 1: \n                if (this.timePass >= options.breakTime) {\n                    this.status = 2;\n                    this.break(); // 生成 ball2, 设置分裂加速度\n                }\n                break;\n            case 2: \n                // console.log(this.ball1.v, this.ball2.v);\n                // console.log(this.ball1.v, this.ball2.v);\n                // console.log(this.ball1.position, this.ball2.position);\n                if (this.timePass >= options.breakTime + options.breakADur) {\n                    this.status = 3;\n                    this.ball1.a = new Vec2;\n                    this.ball2.a = new Vec2;\n                }\n                break;\n            case 3: \n                if (!this.separateTime && this.connection.isSeparate) {\n                    this.separateTime = this.timePass;\n                }\n                if (this.separateTime) {\n                    if (this.timePass < this.separateTime + this.options.destoryDur) {\n                        opacity = 1 - (this.timePass - this.separateTime) / \n                                    this.options.destoryDur;\n                    } else {\n                        this.status = 4;\n                        this.die();\n                    }\n                }\n                break;\n        }\n\n        // console.log(this.status, opacity);\n        this.opacity = Math.min(opacity, 1) * this.options.maxOpacity;\n\n        this.ball1 && this.ball1.update(delta);\n        this.ball2 && this.ball2.update(delta);\n        this.connection && !this.connection.isDie && this.connection.update(delta);\n    }\n\n    draw(ctx) {\n        this.ball1 && this.ball1.draw(ctx, this.opacity, this.blur);\n        this.ball2 && this.ball2.draw(ctx, this.opacity, this.blur);\n        this.connection && !this.isDie && this.connection.draw(ctx, this.opacity, this.blur);\n    }\n\n    break() {\n        this.ball2 = new Ball({\n            initPosition: this.ball1.position,\n            radius: this.ball2Radius,\n            initV: new Vec2, // 初始速度            \n        });\n\n        let breakA1 = new Vec2(Math.random(), Math.random());\n        breakA1.setLength(this.options.breakA);\n        \n        let breakA2 = breakA1.clone().multiplyScalar(-1);\n\n        this.ball1.a = breakA1;// 分裂加速度\n        this.ball2.a = breakA2;// 分裂加速度\n        this.connection = new Connection(this.ball1, this.ball2);\n    }\n\n    die() {\n        this.isDie = true;\n        this.ball1.die();\n        this.ball2.die();\n        this.connection.die();\n        this.ball1 = null;\n        this.ball2 = null;\n        this.connection = null;\n    }\n}\n\nclass Painter extends Time {\n    constructor(cvs) {\n        super();\n        this.cvs = cvs;\n        this.width = cvs.width;\n        this.height = cvs.height;\n        this.ctx = this.cvs.getContext('2d');\n\n        this.tick;\n\n        this.breakBalls = [];\n\n        this.offCvs = document.createElement('canvas');\n        this.offCvs.width = this.width;\n        this.offCvs.height = this.height;\n        this.offCtx = this.offCvs.getContext('2d');\n\n        let grd=this.offCtx.createLinearGradient(0, 0, this.width, 0);\n        for (let i = 0; i <= 10; i++) {\n            grd.addColorStop(i/10, i % 2 === 0 ? '#0678d0' : '#1bb4ba');\n        }\n        this.offCtx.fillStyle = grd;\n        this.offCtx.fillRect(0, 0, this.width, this.height);\n\n        this.maxBallCount =  6;\n    }\n\n    start() {\n        this.tick = this.addTick(this.tick);\n    }\n\n    tick(delta) {\n        stats.update();\n        if (this.breakBalls.length < this.maxBallCount) {\n\n            let maxOpacity = Math.random() + 0.8;\n            let blur = (Math.random() * 8) | 0;\n            let bornPos = new Vec2(\n                this.width * 0.1 + Math.random() * this.width * 0.3 + (Math.random() > 0.5 ? this.width * 0.6 : 0), \n                Math.random() * this.height * 0.3 + this.height * 0.3\n            );\n            let bornA = new Vec2(Math.random() - 0.5, Math.random()-0.5).setLength(Math.random() * 20);\n\n            let aniTime = Math.random() * 3000 + 5000;\n            let bornADur = aniTime * 0.2;\n            let breakTime = aniTime * 0.4;\n            let breakADur = aniTime * 0.2;\n            let breakA = 8 + Math.random() * 6;\n            let destoryDur = Math.random() * 300 + 1000;\n\n            this.breakBalls.push(new BreakBall({\n                maxOpacity,\n                blur,\n\n                bornPos,\n                bornA, // 出生加速度\n                bornADur, // 出生加速耗时\n\n                breakTime, // 分裂时间\n                breakA, // 标量，方向在运行的时候确定\n                breakADur, // 分裂加速耗时\n                destoryDur // 消亡耗时\n            }));\n        }\n        this.ctx.save();\n        this.ctx.clearRect(0, 0, this.width, this.height);\n\n        for(let i = this.breakBalls.length - 1; i >= 0; i--) {\n            if (this.breakBalls[i].isDie) {\n                this.breakBalls.splice(i, 1);\n            } else {\n                this.breakBalls[i].update(delta);\n                this.breakBalls[i].draw(this.ctx);\n            }\n        }\n\n        this.ctx.globalCompositeOperation = \"source-in\";\n        this.ctx.drawImage(this.offCvs, 0, 0);\n        // console.log(balls.length);\n        this.ctx.restore();\n    }\n}\n\n\n\nlet cvs = document.createElement('canvas');\n\ncvs.width = 1920;\ncvs.height = 1079;\n\ndocument.body.appendChild(cvs);\n\nlet painter = new Painter(cvs);\n\npainter.start();\nTIME.start();\n\n\n// WEBPACK FOOTER //\n// ./index.js","function Vector2( x, y ) {\r\n\r\n\tthis.x = x || 0;\r\n\tthis.y = y || 0;\r\n\r\n}\r\n\r\nObject.defineProperties( Vector2.prototype, {\r\n\r\n\t\"width\" : {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.x;\r\n\r\n\t\t},\r\n\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tthis.x = value;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t\"height\" : {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.y;\r\n\r\n\t\t},\r\n\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tthis.y = value;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\nObject.assign( Vector2.prototype, {\r\n\r\n\tisVector2: true,\r\n\r\n\tset: function ( x, y ) {\r\n\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetScalar: function ( scalar ) {\r\n\r\n\t\tthis.x = scalar;\r\n\t\tthis.y = scalar;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetX: function ( x ) {\r\n\r\n\t\tthis.x = x;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetY: function ( y ) {\r\n\r\n\t\tthis.y = y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetComponent: function ( index, value ) {\r\n\r\n\t\tswitch ( index ) {\r\n\r\n\t\t\tcase 0: this.x = value; break;\r\n\t\t\tcase 1: this.y = value; break;\r\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetComponent: function ( index ) {\r\n\r\n\t\tswitch ( index ) {\r\n\r\n\t\t\tcase 0: return this.x;\r\n\t\t\tcase 1: return this.y;\r\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tclone: function () {\r\n\r\n\t\treturn new this.constructor( this.x, this.y );\r\n\r\n\t},\r\n\r\n\tcopy: function ( v ) {\r\n\r\n\t\tthis.x = v.x;\r\n\t\tthis.y = v.y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tadd: function ( v, w ) {\r\n\r\n\t\tif ( w !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\r\n\t\t\treturn this.addVectors( v, w );\r\n\r\n\t\t}\r\n\r\n\t\tthis.x += v.x;\r\n\t\tthis.y += v.y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddScalar: function ( s ) {\r\n\r\n\t\tthis.x += s;\r\n\t\tthis.y += s;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddVectors: function ( a, b ) {\r\n\r\n\t\tthis.x = a.x + b.x;\r\n\t\tthis.y = a.y + b.y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddScaledVector: function ( v, s ) {\r\n\r\n\t\tthis.x += v.x * s;\r\n\t\tthis.y += v.y * s;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsub: function ( v, w ) {\r\n\r\n\t\tif ( w !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\r\n\t\t\treturn this.subVectors( v, w );\r\n\r\n\t\t}\r\n\r\n\t\tthis.x -= v.x;\r\n\t\tthis.y -= v.y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsubScalar: function ( s ) {\r\n\r\n\t\tthis.x -= s;\r\n\t\tthis.y -= s;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsubVectors: function ( a, b ) {\r\n\r\n\t\tthis.x = a.x - b.x;\r\n\t\tthis.y = a.y - b.y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmultiply: function ( v ) {\r\n\r\n\t\tthis.x *= v.x;\r\n\t\tthis.y *= v.y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmultiplyScalar: function ( scalar ) {\r\n\r\n\t\tthis.x *= scalar;\r\n\t\tthis.y *= scalar;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdivide: function ( v ) {\r\n\r\n\t\tthis.x /= v.x;\r\n\t\tthis.y /= v.y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdivideScalar: function ( scalar ) {\r\n\r\n\t\treturn this.multiplyScalar( 1 / scalar );\r\n\r\n\t},\r\n\r\n\tmin: function ( v ) {\r\n\r\n\t\tthis.x = Math.min( this.x, v.x );\r\n\t\tthis.y = Math.min( this.y, v.y );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmax: function ( v ) {\r\n\r\n\t\tthis.x = Math.max( this.x, v.x );\r\n\t\tthis.y = Math.max( this.y, v.y );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclamp: function ( min, max ) {\r\n\r\n\t\t// assumes min < max, componentwise\r\n\r\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\r\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tclampScalar: function () {\r\n\r\n\t\tvar min = new Vector2();\r\n\t\tvar max = new Vector2();\r\n\r\n\t\treturn function clampScalar( minVal, maxVal ) {\r\n\r\n\t\t\tmin.set( minVal, minVal );\r\n\t\t\tmax.set( maxVal, maxVal );\r\n\r\n\t\t\treturn this.clamp( min, max );\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tclampLength: function ( min, max ) {\r\n\r\n\t\tvar length = this.length();\r\n\r\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\r\n\r\n\t},\r\n\r\n\tfloor: function () {\r\n\r\n\t\tthis.x = Math.floor( this.x );\r\n\t\tthis.y = Math.floor( this.y );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tceil: function () {\r\n\r\n\t\tthis.x = Math.ceil( this.x );\r\n\t\tthis.y = Math.ceil( this.y );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tround: function () {\r\n\r\n\t\tthis.x = Math.round( this.x );\r\n\t\tthis.y = Math.round( this.y );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\troundToZero: function () {\r\n\r\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\r\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tnegate: function () {\r\n\r\n\t\tthis.x = - this.x;\r\n\t\tthis.y = - this.y;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tdot: function ( v ) {\r\n\r\n\t\treturn this.x * v.x + this.y * v.y;\r\n\r\n\t},\r\n\r\n\tlengthSq: function () {\r\n\r\n\t\treturn this.x * this.x + this.y * this.y;\r\n\r\n\t},\r\n\r\n\tlength: function () {\r\n\r\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y );\r\n\r\n\t},\r\n\r\n\tlengthManhattan: function() {\r\n\r\n\t\treturn Math.abs( this.x ) + Math.abs( this.y );\r\n\r\n\t},\r\n\r\n\tnormalize: function () {\r\n\r\n\t\treturn this.divideScalar( this.length() || 1 );\r\n\r\n\t},\r\n\r\n\tangle: function () {\r\n\r\n\t\t// computes the angle in radians with respect to the positive x-axis\r\n\r\n\t\tvar angle = Math.atan2( this.y, this.x );\r\n\r\n\t\tif ( angle < 0 ) angle += 2 * Math.PI;\r\n\r\n\t\treturn angle;\r\n\r\n\t},\r\n\r\n\tdistanceTo: function ( v ) {\r\n\r\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\r\n\r\n\t},\r\n\r\n\tdistanceToSquared: function ( v ) {\r\n\r\n\t\tvar dx = this.x - v.x, dy = this.y - v.y;\r\n\t\treturn dx * dx + dy * dy;\r\n\r\n\t},\r\n\r\n\tdistanceToManhattan: function ( v ) {\r\n\r\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y );\r\n\r\n\t},\r\n\r\n\tsetLength: function ( length ) {\r\n\r\n\t\treturn this.normalize().multiplyScalar( length );\r\n\r\n\t},\r\n\r\n\tlerp: function ( v, alpha ) {\r\n\r\n\t\tthis.x += ( v.x - this.x ) * alpha;\r\n\t\tthis.y += ( v.y - this.y ) * alpha;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tlerpVectors: function ( v1, v2, alpha ) {\r\n\r\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\r\n\r\n\t},\r\n\r\n\tequals: function ( v ) {\r\n\r\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) );\r\n\r\n\t},\r\n\r\n\tfromArray: function ( array, offset ) {\r\n\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tthis.x = array[ offset ];\r\n\t\tthis.y = array[ offset + 1 ];\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttoArray: function ( array, offset ) {\r\n\r\n\t\tif ( array === undefined ) array = [];\r\n\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\tarray[ offset ] = this.x;\r\n\t\tarray[ offset + 1 ] = this.y;\r\n\r\n\t\treturn array;\r\n\r\n\t},\r\n\r\n\tfromBufferAttribute: function ( attribute, index, offset ) {\r\n\r\n\t\tif ( offset !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.Vector2: offset has been removed from .fromBufferAttribute().' );\r\n\r\n\t\t}\r\n\r\n\t\tthis.x = attribute.getX( index );\r\n\t\tthis.y = attribute.getY( index );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\trotateAround: function ( center, angle ) {\r\n\r\n\t\tvar c = Math.cos( angle ), s = Math.sin( angle );\r\n\r\n\t\tvar x = this.x - center.x;\r\n\t\tvar y = this.y - center.y;\r\n\r\n\t\tthis.x = x * c - y * s + center.x;\r\n\t\tthis.y = x * s + y * c + center.y;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n\r\nexport { Vector2 };\n\n\n// WEBPACK FOOTER //\n// ./vec2.js","import TWEEN from 'tween.js';\n\n/* 时间 */\nvar TIME = {\n\t// 所有时间body对象\n\tbodys : [],\n\tdelta: 16\n}\n\nvar stop = false;\nvar t;\nTIME.addBody = function(timeBody) {\n\tthis.bodys.push(timeBody);\n}\n\nTIME.removeBody = function(timeBody) {\n\tvar index = this.bodys.indexOf(timeBody);\n\n\tif (index !== -1) {\n\t\tthis.bodys.splice(index, 1);\n\t}\n}\nTIME.tick = (function() {\n\tvar now = (new Date()).getTime();\n\tvar last = now;\n\tvar delta;\n\treturn function() {\n\t\tdelta = now - last;\n\t\tdelta = delta > 500 ? 30 : (delta < 16? 16 : delta);\n\t\tTIME.delta = delta;\n\t\tlast = now;\n\n\t\tTIME.handleFrame(delta);\n\t\tif (!stop) {\n\t\t\tt = requestAnimationFrame(TIME.tick);\n\t\t\t// setTimeout(TIME.tick, 1000);\n\t\t}\t\t\n\t}\t\n})();\n\n\nTIME.start = function() {\n\tstop = false;\n\tcancelAnimationFrame(t);\n\tthis.tick();\n}\n\nTIME.stop = function() {\n\tcancelAnimationFrame(t);\n\tstop = true;\n}\n\nTIME.handleFrame = function(delta) { \n\n\tTIME.bodys.forEach(function(body) {\n\t\tif (!body.isStop) {\n\t\t\tbody.ticks.forEach(function(tick) {\n\t\t\t\ttick.fn && tick.fn(delta); \n\t\t\t});\n\t\t}\n\t});\n\n\tTWEEN.update();\n}\n\nwindow.TIME = TIME;\n\n/* 时间物体类，提供两个时机，帧更新，固定间隔更新，每一个有时间概念的物体，就继承 */\nclass Time {\n\n\tconstructor() {\n\t\tthis.ticks = [];\n\t\tthis.tweens = [];\n\t\tthis.isStop = false;\n\t\tTIME.addBody(this);\n\t}\n\n\n\t/**\n\t * 该物体灭亡\n\t */\n\tdestory() {\n\t\tTIME.removeBody(this);\n\t}\n\n\t/** \n\t * 帧更新\n\t * @param timegap 与上一帧的时间间隔\n\t */\n\taddTick(fn) {\n\t\tvar tick = {'fn': fn.bind(this)};\n\n\t\ttick.isStop = false;\n\t\tthis.ticks.push(tick);\n\t\treturn tick;\n\t}\n\n\tremoveTick(tick) {\n\t\tif (!tick) {\n\t\t\t// remove all\n\t\t\tthis.ticks = [];\n\t\t\treturn;\n\t\t}\n\n\t\tvar index = this.ticks.indexOf(tick);\n\n\t\tif (index !== -1) {\n\t\t\tthis.ticks.splice(index, 1);\n\t\t}\n\t}\n\n\t/** \n\t * tween\n\t */\n\taddTween(tween) {\n\t\tthis.tweens.push(tween);\n\t}\n\n\tremoveTween(tween) {\n\t\tif (!tween) {\n\t\t\t// remove all\n\t\t\tthis.tween = [];\n\t\t\treturn;\n\t\t}\n\n\t\tvar index = this.tweens.indexOf(tween);\n\n\t\tif (index !== -1) {\n\t\t\t//tween.stop();\n\t\t\tthis.tweens.splice(index, 1);\n\t\t}\n\t}\n\n\t// stop 暂停时间\n\tstop() {\n\t\tthis.isStop = true;\n\t\tthis.tweens.forEach(function(tween) {\n\t\t\ttween.stop();\n\t\t});\n\t}\n\n\tstart() {\n\t\tthis.isStop = false;\n\t\tthis.tweens.forEach(function(tween) {\n\t\t\ttween.start();\n\t\t});\n\t}\n}\n\nwindow.Time = Time;\n\nfor (let i = 0; i < 10000; i+=100) {\n\twindow['TIME_' + i] = window.env === 'develop' ? 0 : i;\n}\n\n\nexport {TIME, Time, TWEEN};\n\n\n\n\n// WEBPACK FOOTER //\n// ./time.js","/**\n * Tween.js - Licensed under the MIT license\n * https://github.com/tweenjs/tween.js\n * ----------------------------------------------\n *\n * See https://github.com/tweenjs/tween.js/graphs/contributors for the full list of contributors.\n * Thank you all, you're awesome!\n */\n\nvar TWEEN = TWEEN || (function () {\n\n\tvar _tweens = [];\n\n\treturn {\n\n\t\tgetAll: function () {\n\n\t\t\treturn _tweens;\n\n\t\t},\n\n\t\tremoveAll: function () {\n\n\t\t\t_tweens = [];\n\n\t\t},\n\n\t\tadd: function (tween) {\n\n\t\t\t_tweens.push(tween);\n\n\t\t},\n\n\t\tremove: function (tween) {\n\n\t\t\tvar i = _tweens.indexOf(tween);\n\n\t\t\tif (i !== -1) {\n\t\t\t\t_tweens.splice(i, 1);\n\t\t\t}\n\n\t\t},\n\n\t\tupdate: function (time, preserve) {\n\n\t\t\tif (_tweens.length === 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar i = 0;\n\n\t\t\ttime = time !== undefined ? time : TWEEN.now();\n\n\t\t\twhile (i < _tweens.length) {\n\n\t\t\t\tif (_tweens[i].update(time) || preserve) {\n\t\t\t\t\ti++;\n\t\t\t\t} else {\n\t\t\t\t\t_tweens.splice(i, 1);\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn true;\n\n\t\t}\n\t};\n\n})();\n\n\n// Include a performance.now polyfill.\n// In node.js, use process.hrtime.\nif (typeof (window) === 'undefined' && typeof (process) !== 'undefined') {\n\tTWEEN.now = function () {\n\t\tvar time = process.hrtime();\n\n\t\t// Convert [seconds, nanoseconds] to milliseconds.\n\t\treturn time[0] * 1000 + time[1] / 1000000;\n\t};\n}\n// In a browser, use window.performance.now if it is available.\nelse if (typeof (window) !== 'undefined' &&\n         window.performance !== undefined &&\n\t\t window.performance.now !== undefined) {\n\t// This must be bound, because directly assigning this function\n\t// leads to an invocation exception in Chrome.\n\tTWEEN.now = window.performance.now.bind(window.performance);\n}\n// Use Date.now if it is available.\nelse if (Date.now !== undefined) {\n\tTWEEN.now = Date.now;\n}\n// Otherwise, use 'new Date().getTime()'.\nelse {\n\tTWEEN.now = function () {\n\t\treturn new Date().getTime();\n\t};\n}\n\n\nTWEEN.Tween = function (object) {\n\n\tvar _object = object;\n\tvar _valuesStart = {};\n\tvar _valuesEnd = {};\n\tvar _valuesStartRepeat = {};\n\tvar _duration = 1000;\n\tvar _repeat = 0;\n\tvar _repeatDelayTime;\n\tvar _yoyo = false;\n\tvar _isPlaying = false;\n\tvar _reversed = false;\n\tvar _delayTime = 0;\n\tvar _startTime = null;\n\tvar _easingFunction = TWEEN.Easing.Linear.None;\n\tvar _interpolationFunction = TWEEN.Interpolation.Linear;\n\tvar _chainedTweens = [];\n\tvar _onStartCallback = null;\n\tvar _onStartCallbackFired = false;\n\tvar _onUpdateCallback = null;\n\tvar _onCompleteCallback = null;\n\tvar _onStopCallback = null;\n\n\tthis.to = function (properties, duration) {\n\n\t\t_valuesEnd = properties;\n\n\t\tif (duration !== undefined) {\n\t\t\t_duration = duration;\n\t\t}\n\n\t\treturn this;\n\n\t};\n\n\tthis.start = function (time) {\n\n\t\tTWEEN.add(this);\n\n\t\t_isPlaying = true;\n\n\t\t_onStartCallbackFired = false;\n\n\t\t_startTime = time !== undefined ? time : TWEEN.now();\n\t\t_startTime += _delayTime;\n\n\t\tfor (var property in _valuesEnd) {\n\n\t\t\t// Check if an Array was provided as property value\n\t\t\tif (_valuesEnd[property] instanceof Array) {\n\n\t\t\t\tif (_valuesEnd[property].length === 0) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Create a local copy of the Array with the start value at the front\n\t\t\t\t_valuesEnd[property] = [_object[property]].concat(_valuesEnd[property]);\n\n\t\t\t}\n\n\t\t\t// If `to()` specifies a property that doesn't exist in the source object,\n\t\t\t// we should not set that property in the object\n\t\t\tif (_object[property] === undefined) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Save the starting value.\n\t\t\t_valuesStart[property] = _object[property];\n\n\t\t\tif ((_valuesStart[property] instanceof Array) === false) {\n\t\t\t\t_valuesStart[property] *= 1.0; // Ensures we're using numbers, not strings\n\t\t\t}\n\n\t\t\t_valuesStartRepeat[property] = _valuesStart[property] || 0;\n\n\t\t}\n\n\t\treturn this;\n\n\t};\n\n\tthis.stop = function () {\n\n\t\tif (!_isPlaying) {\n\t\t\treturn this;\n\t\t}\n\n\t\tTWEEN.remove(this);\n\t\t_isPlaying = false;\n\n\t\tif (_onStopCallback !== null) {\n\t\t\t_onStopCallback.call(_object, _object);\n\t\t}\n\n\t\tthis.stopChainedTweens();\n\t\treturn this;\n\n\t};\n\n\tthis.end = function () {\n\n\t\tthis.update(_startTime + _duration);\n\t\treturn this;\n\n\t};\n\n\tthis.stopChainedTweens = function () {\n\n\t\tfor (var i = 0, numChainedTweens = _chainedTweens.length; i < numChainedTweens; i++) {\n\t\t\t_chainedTweens[i].stop();\n\t\t}\n\n\t};\n\n\tthis.delay = function (amount) {\n\n\t\t_delayTime = amount;\n\t\treturn this;\n\n\t};\n\n\tthis.repeat = function (times) {\n\n\t\t_repeat = times;\n\t\treturn this;\n\n\t};\n\n\tthis.repeatDelay = function (amount) {\n\n\t\t_repeatDelayTime = amount;\n\t\treturn this;\n\n\t};\n\n\tthis.yoyo = function (yoyo) {\n\n\t\t_yoyo = yoyo;\n\t\treturn this;\n\n\t};\n\n\n\tthis.easing = function (easing) {\n\n\t\t_easingFunction = easing;\n\t\treturn this;\n\n\t};\n\n\tthis.interpolation = function (interpolation) {\n\n\t\t_interpolationFunction = interpolation;\n\t\treturn this;\n\n\t};\n\n\tthis.chain = function () {\n\n\t\t_chainedTweens = arguments;\n\t\treturn this;\n\n\t};\n\n\tthis.onStart = function (callback) {\n\n\t\t_onStartCallback = callback;\n\t\treturn this;\n\n\t};\n\n\tthis.onUpdate = function (callback) {\n\n\t\t_onUpdateCallback = callback;\n\t\treturn this;\n\n\t};\n\n\tthis.onComplete = function (callback) {\n\n\t\t_onCompleteCallback = callback;\n\t\treturn this;\n\n\t};\n\n\tthis.onStop = function (callback) {\n\n\t\t_onStopCallback = callback;\n\t\treturn this;\n\n\t};\n\n\tthis.update = function (time) {\n\n\t\tvar property;\n\t\tvar elapsed;\n\t\tvar value;\n\n\t\tif (time < _startTime) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (_onStartCallbackFired === false) {\n\n\t\t\tif (_onStartCallback !== null) {\n\t\t\t\t_onStartCallback.call(_object, _object);\n\t\t\t}\n\n\t\t\t_onStartCallbackFired = true;\n\t\t}\n\n\t\telapsed = (time - _startTime) / _duration;\n\t\telapsed = elapsed > 1 ? 1 : elapsed;\n\n\t\tvalue = _easingFunction(elapsed);\n\n\t\tfor (property in _valuesEnd) {\n\n\t\t\t// Don't update properties that do not exist in the source object\n\t\t\tif (_valuesStart[property] === undefined) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar start = _valuesStart[property] || 0;\n\t\t\tvar end = _valuesEnd[property];\n\n\t\t\tif (end instanceof Array) {\n\n\t\t\t\t_object[property] = _interpolationFunction(end, value);\n\n\t\t\t} else {\n\n\t\t\t\t// Parses relative end values with start as base (e.g.: +10, -3)\n\t\t\t\tif (typeof (end) === 'string') {\n\n\t\t\t\t\tif (end.charAt(0) === '+' || end.charAt(0) === '-') {\n\t\t\t\t\t\tend = start + parseFloat(end);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tend = parseFloat(end);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Protect against non numeric properties.\n\t\t\t\tif (typeof (end) === 'number') {\n\t\t\t\t\t_object[property] = start + (end - start) * value;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif (_onUpdateCallback !== null) {\n\t\t\t_onUpdateCallback.call(_object, value);\n\t\t}\n\n\t\tif (elapsed === 1) {\n\n\t\t\tif (_repeat > 0) {\n\n\t\t\t\tif (isFinite(_repeat)) {\n\t\t\t\t\t_repeat--;\n\t\t\t\t}\n\n\t\t\t\t// Reassign starting values, restart by making startTime = now\n\t\t\t\tfor (property in _valuesStartRepeat) {\n\n\t\t\t\t\tif (typeof (_valuesEnd[property]) === 'string') {\n\t\t\t\t\t\t_valuesStartRepeat[property] = _valuesStartRepeat[property] + parseFloat(_valuesEnd[property]);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (_yoyo) {\n\t\t\t\t\t\tvar tmp = _valuesStartRepeat[property];\n\n\t\t\t\t\t\t_valuesStartRepeat[property] = _valuesEnd[property];\n\t\t\t\t\t\t_valuesEnd[property] = tmp;\n\t\t\t\t\t}\n\n\t\t\t\t\t_valuesStart[property] = _valuesStartRepeat[property];\n\n\t\t\t\t}\n\n\t\t\t\tif (_yoyo) {\n\t\t\t\t\t_reversed = !_reversed;\n\t\t\t\t}\n\n\t\t\t\tif (_repeatDelayTime !== undefined) {\n\t\t\t\t\t_startTime = time + _repeatDelayTime;\n\t\t\t\t} else {\n\t\t\t\t\t_startTime = time + _delayTime;\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\n\t\t\t} else {\n\n\t\t\t\tif (_onCompleteCallback !== null) {\n\n\t\t\t\t\t_onCompleteCallback.call(_object, _object);\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0, numChainedTweens = _chainedTweens.length; i < numChainedTweens; i++) {\n\t\t\t\t\t// Make the chained tweens start exactly at the time they should,\n\t\t\t\t\t// even if the `update()` method was called way past the duration of the tween\n\t\t\t\t\t_chainedTweens[i].start(_startTime + _duration);\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t};\n\n};\n\n\nTWEEN.Easing = {\n\n\tLinear: {\n\n\t\tNone: function (k) {\n\n\t\t\treturn k;\n\n\t\t}\n\n\t},\n\n\tQuadratic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn k * (2 - k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k;\n\t\t\t}\n\n\t\t\treturn - 0.5 * (--k * (k - 2) - 1);\n\n\t\t}\n\n\t},\n\n\tCubic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn --k * k * k + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k;\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * k + 2);\n\n\t\t}\n\n\t},\n\n\tQuartic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn 1 - (--k * k * k * k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k * k;\n\t\t\t}\n\n\t\t\treturn - 0.5 * ((k -= 2) * k * k * k - 2);\n\n\t\t}\n\n\t},\n\n\tQuintic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn --k * k * k * k * k + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k * k * k;\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * k * k * k + 2);\n\n\t\t}\n\n\t},\n\n\tSinusoidal: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - Math.cos(k * Math.PI / 2);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn Math.sin(k * Math.PI / 2);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\treturn 0.5 * (1 - Math.cos(Math.PI * k));\n\n\t\t}\n\n\t},\n\n\tExponential: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k === 0 ? 0 : Math.pow(1024, k - 1);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn k === 1 ? 1 : 1 - Math.pow(2, - 10 * k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * Math.pow(1024, k - 1);\n\t\t\t}\n\n\t\t\treturn 0.5 * (- Math.pow(2, - 10 * (k - 1)) + 2);\n\n\t\t}\n\n\t},\n\n\tCircular: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - Math.sqrt(1 - k * k);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn Math.sqrt(1 - (--k * k));\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn - 0.5 * (Math.sqrt(1 - k * k) - 1);\n\t\t\t}\n\n\t\t\treturn 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\n\n\t\t}\n\n\t},\n\n\tElastic: {\n\n\t\tIn: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\treturn -Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\treturn Math.pow(2, -10 * k) * Math.sin((k - 0.1) * 5 * Math.PI) + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tk *= 2;\n\n\t\t\tif (k < 1) {\n\t\t\t\treturn -0.5 * Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n\t\t\t}\n\n\t\t\treturn 0.5 * Math.pow(2, -10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI) + 1;\n\n\t\t}\n\n\t},\n\n\tBack: {\n\n\t\tIn: function (k) {\n\n\t\t\tvar s = 1.70158;\n\n\t\t\treturn k * k * ((s + 1) * k - s);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tvar s = 1.70158;\n\n\t\t\treturn --k * k * ((s + 1) * k + s) + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tvar s = 1.70158 * 1.525;\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * (k * k * ((s + 1) * k - s));\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n\n\t\t}\n\n\t},\n\n\tBounce: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - TWEEN.Easing.Bounce.Out(1 - k);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tif (k < (1 / 2.75)) {\n\t\t\t\treturn 7.5625 * k * k;\n\t\t\t} else if (k < (2 / 2.75)) {\n\t\t\t\treturn 7.5625 * (k -= (1.5 / 2.75)) * k + 0.75;\n\t\t\t} else if (k < (2.5 / 2.75)) {\n\t\t\t\treturn 7.5625 * (k -= (2.25 / 2.75)) * k + 0.9375;\n\t\t\t} else {\n\t\t\t\treturn 7.5625 * (k -= (2.625 / 2.75)) * k + 0.984375;\n\t\t\t}\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k < 0.5) {\n\t\t\t\treturn TWEEN.Easing.Bounce.In(k * 2) * 0.5;\n\t\t\t}\n\n\t\t\treturn TWEEN.Easing.Bounce.Out(k * 2 - 1) * 0.5 + 0.5;\n\n\t\t}\n\n\t}\n\n};\n\nTWEEN.Interpolation = {\n\n\tLinear: function (v, k) {\n\n\t\tvar m = v.length - 1;\n\t\tvar f = m * k;\n\t\tvar i = Math.floor(f);\n\t\tvar fn = TWEEN.Interpolation.Utils.Linear;\n\n\t\tif (k < 0) {\n\t\t\treturn fn(v[0], v[1], f);\n\t\t}\n\n\t\tif (k > 1) {\n\t\t\treturn fn(v[m], v[m - 1], m - f);\n\t\t}\n\n\t\treturn fn(v[i], v[i + 1 > m ? m : i + 1], f - i);\n\n\t},\n\n\tBezier: function (v, k) {\n\n\t\tvar b = 0;\n\t\tvar n = v.length - 1;\n\t\tvar pw = Math.pow;\n\t\tvar bn = TWEEN.Interpolation.Utils.Bernstein;\n\n\t\tfor (var i = 0; i <= n; i++) {\n\t\t\tb += pw(1 - k, n - i) * pw(k, i) * v[i] * bn(n, i);\n\t\t}\n\n\t\treturn b;\n\n\t},\n\n\tCatmullRom: function (v, k) {\n\n\t\tvar m = v.length - 1;\n\t\tvar f = m * k;\n\t\tvar i = Math.floor(f);\n\t\tvar fn = TWEEN.Interpolation.Utils.CatmullRom;\n\n\t\tif (v[0] === v[m]) {\n\n\t\t\tif (k < 0) {\n\t\t\t\ti = Math.floor(f = m * (1 + k));\n\t\t\t}\n\n\t\t\treturn fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i);\n\n\t\t} else {\n\n\t\t\tif (k < 0) {\n\t\t\t\treturn v[0] - (fn(v[0], v[0], v[1], v[1], -f) - v[0]);\n\t\t\t}\n\n\t\t\tif (k > 1) {\n\t\t\t\treturn v[m] - (fn(v[m], v[m], v[m - 1], v[m - 1], f - m) - v[m]);\n\t\t\t}\n\n\t\t\treturn fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i);\n\n\t\t}\n\n\t},\n\n\tUtils: {\n\n\t\tLinear: function (p0, p1, t) {\n\n\t\t\treturn (p1 - p0) * t + p0;\n\n\t\t},\n\n\t\tBernstein: function (n, i) {\n\n\t\t\tvar fc = TWEEN.Interpolation.Utils.Factorial;\n\n\t\t\treturn fc(n) / fc(i) / fc(n - i);\n\n\t\t},\n\n\t\tFactorial: (function () {\n\n\t\t\tvar a = [1];\n\n\t\t\treturn function (n) {\n\n\t\t\t\tvar s = 1;\n\n\t\t\t\tif (a[n]) {\n\t\t\t\t\treturn a[n];\n\t\t\t\t}\n\n\t\t\t\tfor (var i = n; i > 1; i--) {\n\t\t\t\t\ts *= i;\n\t\t\t\t}\n\n\t\t\t\ta[n] = s;\n\t\t\t\treturn s;\n\n\t\t\t};\n\n\t\t})(),\n\n\t\tCatmullRom: function (p0, p1, p2, p3, t) {\n\n\t\t\tvar v0 = (p2 - p0) * 0.5;\n\t\t\tvar v1 = (p3 - p1) * 0.5;\n\t\t\tvar t2 = t * t;\n\t\t\tvar t3 = t * t2;\n\n\t\t\treturn (2 * p1 - 2 * p2 + v0 + v1) * t3 + (- 3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;\n\n\t\t}\n\n\t}\n\n};\n\n// UMD (Universal Module Definition)\n(function (root) {\n\n\tif (typeof define === 'function' && define.amd) {\n\n\t\t// AMD\n\t\tdefine([], function () {\n\t\t\treturn TWEEN;\n\t\t});\n\n\t} else if (typeof module !== 'undefined' && typeof exports === 'object') {\n\n\t\t// Node.js\n\t\tmodule.exports = TWEEN;\n\n\t} else if (root !== undefined) {\n\n\t\t// Global variable\n\t\troot.TWEEN = TWEEN;\n\n\t}\n\n})(this);\n\n\n\n// WEBPACK FOOTER //\n// ./~/tween.js/src/Tween.js","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n// WEBPACK FOOTER //\n// ./~/process/browser.js","/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar Stats = function () {\n\n\tvar mode = 0;\n\n\tvar container = document.createElement( 'div' );\n\tcontainer.style.cssText = 'position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000';\n\tcontainer.addEventListener( 'click', function ( event ) {\n\n\t\tevent.preventDefault();\n\t\tshowPanel( ++ mode % container.children.length );\n\n\t}, false );\n\n\t//\n\n\tfunction addPanel( panel ) {\n\n\t\tcontainer.appendChild( panel.dom );\n\t\treturn panel;\n\n\t}\n\n\tfunction showPanel( id ) {\n\n\t\tfor ( var i = 0; i < container.children.length; i ++ ) {\n\n\t\t\tcontainer.children[ i ].style.display = i === id ? 'block' : 'none';\n\n\t\t}\n\n\t\tmode = id;\n\n\t}\n\n\t//\n\n\tvar beginTime = ( performance || Date ).now(), prevTime = beginTime, frames = 0;\n\n\tvar fpsPanel = addPanel( new Stats.Panel( 'FPS', '#0ff', '#002' ) );\n\tvar msPanel = addPanel( new Stats.Panel( 'MS', '#0f0', '#020' ) );\n\n\tif ( self.performance && self.performance.memory ) {\n\n\t\tvar memPanel = addPanel( new Stats.Panel( 'MB', '#f08', '#201' ) );\n\n\t}\n\n\tshowPanel( 0 );\n\n\treturn {\n\n\t\tREVISION: 16,\n\n\t\tdom: container,\n\n\t\taddPanel: addPanel,\n\t\tshowPanel: showPanel,\n\n\t\tbegin: function () {\n\n\t\t\tbeginTime = ( performance || Date ).now();\n\n\t\t},\n\n\t\tend: function () {\n\n\t\t\tframes ++;\n\n\t\t\tvar time = ( performance || Date ).now();\n\n\t\t\tmsPanel.update( time - beginTime, 200 );\n\n\t\t\tif ( time > prevTime + 1000 ) {\n\n\t\t\t\tfpsPanel.update( ( frames * 1000 ) / ( time - prevTime ), 100 );\n\n\t\t\t\tprevTime = time;\n\t\t\t\tframes = 0;\n\n\t\t\t\tif ( memPanel ) {\n\n\t\t\t\t\tvar memory = performance.memory;\n\t\t\t\t\tmemPanel.update( memory.usedJSHeapSize / 1048576, memory.jsHeapSizeLimit / 1048576 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn time;\n\n\t\t},\n\n\t\tupdate: function () {\n\n\t\t\tbeginTime = this.end();\n\n\t\t},\n\n\t\t// Backwards Compatibility\n\n\t\tdomElement: container,\n\t\tsetMode: showPanel\n\n\t};\n\n};\n\nStats.Panel = function ( name, fg, bg ) {\n\n\tvar min = Infinity, max = 0, round = Math.round;\n\tvar PR = round( window.devicePixelRatio || 1 );\n\n\tvar WIDTH = 80 * PR, HEIGHT = 48 * PR,\n\t\t\tTEXT_X = 3 * PR, TEXT_Y = 2 * PR,\n\t\t\tGRAPH_X = 3 * PR, GRAPH_Y = 15 * PR,\n\t\t\tGRAPH_WIDTH = 74 * PR, GRAPH_HEIGHT = 30 * PR;\n\n\tvar canvas = document.createElement( 'canvas' );\n\tcanvas.width = WIDTH;\n\tcanvas.height = HEIGHT;\n\tcanvas.style.cssText = 'width:80px;height:48px';\n\n\tvar context = canvas.getContext( '2d' );\n\tcontext.font = 'bold ' + ( 9 * PR ) + 'px Helvetica,Arial,sans-serif';\n\tcontext.textBaseline = 'top';\n\n\tcontext.fillStyle = bg;\n\tcontext.fillRect( 0, 0, WIDTH, HEIGHT );\n\n\tcontext.fillStyle = fg;\n\tcontext.fillText( name, TEXT_X, TEXT_Y );\n\tcontext.fillRect( GRAPH_X, GRAPH_Y, GRAPH_WIDTH, GRAPH_HEIGHT );\n\n\tcontext.fillStyle = bg;\n\tcontext.globalAlpha = 0.9;\n\tcontext.fillRect( GRAPH_X, GRAPH_Y, GRAPH_WIDTH, GRAPH_HEIGHT );\n\n\treturn {\n\n\t\tdom: canvas,\n\n\t\tupdate: function ( value, maxValue ) {\n\n\t\t\tmin = Math.min( min, value );\n\t\t\tmax = Math.max( max, value );\n\n\t\t\tcontext.fillStyle = bg;\n\t\t\tcontext.globalAlpha = 1;\n\t\t\tcontext.fillRect( 0, 0, WIDTH, GRAPH_Y );\n\t\t\tcontext.fillStyle = fg;\n\t\t\tcontext.fillText( round( value ) + ' ' + name + ' (' + round( min ) + '-' + round( max ) + ')', TEXT_X, TEXT_Y );\n\n\t\t\tcontext.drawImage( canvas, GRAPH_X + PR, GRAPH_Y, GRAPH_WIDTH - PR, GRAPH_HEIGHT, GRAPH_X, GRAPH_Y, GRAPH_WIDTH - PR, GRAPH_HEIGHT );\n\n\t\t\tcontext.fillRect( GRAPH_X + GRAPH_WIDTH - PR, GRAPH_Y, PR, GRAPH_HEIGHT );\n\n\t\t\tcontext.fillStyle = bg;\n\t\t\tcontext.globalAlpha = 0.9;\n\t\t\tcontext.fillRect( GRAPH_X + GRAPH_WIDTH - PR, GRAPH_Y, PR, round( ( 1 - ( value / maxValue ) ) * GRAPH_HEIGHT ) );\n\n\t\t}\n\n\t};\n\n};\n\nexport { Stats as default };\n\n\n// WEBPACK FOOTER //\n// ./stats.js"],"sourceRoot":""}